<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 10 Functions | Tools for Analytics (TFA)</title>
  <meta name="description" content="Course notes for the ‘Tools for Analytics’ course" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 10 Functions | Tools for Analytics (TFA)" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://bss-osca.github.io/tfa//assets/logo.png" />
  <meta property="og:description" content="Course notes for the ‘Tools for Analytics’ course" />
  <meta name="github-repo" content="bss-osca/tfa" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 10 Functions | Tools for Analytics (TFA)" />
  
  <meta name="twitter:description" content="Course notes for the ‘Tools for Analytics’ course" />
  <meta name="twitter:image" content="https://bss-osca.github.io/tfa//assets/logo.png" />

<meta name="author" content="Lars Relund Nielsen" />


<meta name="date" content="2024-12-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon" />
<link rel="prev" href="mod-r-loops-cond.html"/>
<link rel="next" href="mod-r-tidyverse-intro.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.11/grViz.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<link href="libs/minichart-0.2.2/minicharts.css" rel="stylesheet" />
<script src="libs/minichart-0.2.2/leaflet.minicharts.min.js"></script>
<link href="libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" />
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<html>
<head>
<script>
  $(document).ready(function() {

  // Section anchors
  $('.section h1, .section h2, .section h3, .section h4, .section h5').each(function() {
    anchor = '#' + $(this).parent().attr('id');
    $(this).addClass("hasAnchor").prepend('<a href="' + anchor + '" class="anchor"></a>');
  });
});
</script>
<script src="https://hypothes.is/embed.js" async></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>
</html>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="img/logo.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction to the course</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#lo-intro"><i class="fa fa-check"></i><b>1.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#purpose"><i class="fa fa-check"></i><b>1.2</b> Purpose for the course</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#r-vs-vba"><i class="fa fa-check"></i><b>1.3</b> R vs Excel/VBA</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#computer"><i class="fa fa-check"></i><b>1.4</b> How a computer works</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#organization"><i class="fa fa-check"></i><b>1.5</b> How the notes are organized</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#ack"><i class="fa fa-check"></i><b>1.6</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#how-to-cite"><i class="fa fa-check"></i><b>1.7</b> How to cite</a></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#ex-intro"><i class="fa fa-check"></i><b>1.8</b> Exercises</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="index.html"><a href="index.html#ex-annotate"><i class="fa fa-check"></i><b>1.8.1</b> Exercise - How to annotate</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I VBA</b></span></li>
<li class="chapter" data-level="2" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html"><i class="fa fa-check"></i><b>2</b> An introduction to VBA</a>
<ul>
<li class="chapter" data-level="2.1" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#lo-vba-intro"><i class="fa fa-check"></i><b>2.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="2.2" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-what"><i class="fa fa-check"></i><b>2.2</b> What is VBA</a></li>
<li class="chapter" data-level="2.3" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-setup"><i class="fa fa-check"></i><b>2.3</b> Setup Excel for VBA</a></li>
<li class="chapter" data-level="2.4" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-hello"><i class="fa fa-check"></i><b>2.4</b> Your first program</a></li>
<li class="chapter" data-level="2.5" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-macro"><i class="fa fa-check"></i><b>2.5</b> The macro recorder</a></li>
<li class="chapter" data-level="2.6" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-overview"><i class="fa fa-check"></i><b>2.6</b> VBA - A short overview</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#variables"><i class="fa fa-check"></i><b>2.6.1</b> Variables</a></li>
<li class="chapter" data-level="2.6.2" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#procedures"><i class="fa fa-check"></i><b>2.6.2</b> Procedures</a></li>
<li class="chapter" data-level="2.6.3" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#input-and-output"><i class="fa fa-check"></i><b>2.6.3</b> Input and output</a></li>
<li class="chapter" data-level="2.6.4" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#conditional-statements"><i class="fa fa-check"></i><b>2.6.4</b> Conditional statements</a></li>
<li class="chapter" data-level="2.6.5" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#loops"><i class="fa fa-check"></i><b>2.6.5</b> Loops</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-coding-practice"><i class="fa fa-check"></i><b>2.7</b> Good coding pratice</a></li>
<li class="chapter" data-level="2.8" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#rc-vba-intro"><i class="fa fa-check"></i><b>2.8</b> Recap</a></li>
<li class="chapter" data-level="2.9" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#ex-vba-intro"><i class="fa fa-check"></i><b>2.9</b> Exercises</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#ex-vba-hello"><i class="fa fa-check"></i><b>2.9.1</b> Exercise - Hello</a></li>
<li class="chapter" data-level="2.9.2" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#ex-vba-macro"><i class="fa fa-check"></i><b>2.9.2</b> Exercise - Record a macro</a></li>
<li class="chapter" data-level="2.9.3" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#ex-vba-user-input"><i class="fa fa-check"></i><b>2.9.3</b> Exercise - User input</a></li>
<li class="chapter" data-level="2.9.4" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#ex-vba-max-min"><i class="fa fa-check"></i><b>2.9.4</b> Exercise - Max and min number</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html"><i class="fa fa-check"></i><b>3</b> Loops and conditional statements</a>
<ul>
<li class="chapter" data-level="3.1" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#lo-vba-loops-cond"><i class="fa fa-check"></i><b>3.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="3.2" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#vba-operators"><i class="fa fa-check"></i><b>3.2</b> Relational and logical operators</a></li>
<li class="chapter" data-level="3.3" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#vba-loops"><i class="fa fa-check"></i><b>3.3</b> Loops</a></li>
<li class="chapter" data-level="3.4" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#vba-cond"><i class="fa fa-check"></i><b>3.4</b> Conditional statements</a></li>
<li class="chapter" data-level="3.5" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#vba-ex-jen"><i class="fa fa-check"></i><b>3.5</b> Example - Find Jen</a></li>
<li class="chapter" data-level="3.6" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#vba-ex-dist-mat"><i class="fa fa-check"></i><b>3.6</b> Example - A distance matrix</a></li>
<li class="chapter" data-level="3.7" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#recap"><i class="fa fa-check"></i><b>3.7</b> Recap</a></li>
<li class="chapter" data-level="3.8" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#ex-vba-loops-cond"><i class="fa fa-check"></i><b>3.8</b> Exercises</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#ex-vba-loops"><i class="fa fa-check"></i><b>3.8.1</b> Exercise - Loops</a></li>
<li class="chapter" data-level="3.8.2" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#ex-vba-cond"><i class="fa fa-check"></i><b>3.8.2</b> Exercise - Conditional statements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html"><i class="fa fa-check"></i><b>4</b> Procedures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#lo-vba-procedures"><i class="fa fa-check"></i><b>4.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="4.2" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-subs-functions"><i class="fa fa-check"></i><b>4.2</b> Subs and functions - The basics</a></li>
<li class="chapter" data-level="4.3" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-optional-arg"><i class="fa fa-check"></i><b>4.3</b> Optional arguments</a></li>
<li class="chapter" data-level="4.4" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-pub-priv"><i class="fa fa-check"></i><b>4.4</b> Public and private procedures</a></li>
<li class="chapter" data-level="4.5" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-byref"><i class="fa fa-check"></i><b>4.5</b> Passing arguments by reference or by value</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#return-values-from-a-sub"><i class="fa fa-check"></i><b>4.5.1</b> Return values from a sub</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-built-in"><i class="fa fa-check"></i><b>4.6</b> Built-in functions</a></li>
<li class="chapter" data-level="4.7" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-test-persons"><i class="fa fa-check"></i><b>4.7</b> Example - Selection of test persons</a></li>
<li class="chapter" data-level="4.8" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#recap-1"><i class="fa fa-check"></i><b>4.8</b> Recap</a></li>
<li class="chapter" data-level="4.9" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#ex-vba-procedures"><i class="fa fa-check"></i><b>4.9</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#ex-vba-subs"><i class="fa fa-check"></i><b>4.9.1</b> Exercise - Subs</a></li>
<li class="chapter" data-level="4.9.2" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#exercise---temperatures"><i class="fa fa-check"></i><b>4.9.2</b> Exercise - Temperatures</a></li>
<li class="chapter" data-level="4.9.3" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#ex-vba-functions"><i class="fa fa-check"></i><b>4.9.3</b> Exercise - Functions</a></li>
<li class="chapter" data-level="4.9.4" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#ex-vba-worksheet-functions"><i class="fa fa-check"></i><b>4.9.4</b> Exercise - Worksheet functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html"><i class="fa fa-check"></i><b>5</b> Advanced data types and usage</a>
<ul>
<li class="chapter" data-level="5.1" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#lo-vba-datatypes"><i class="fa fa-check"></i><b>5.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="5.2" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-strings"><i class="fa fa-check"></i><b>5.2</b> Strings</a></li>
<li class="chapter" data-level="5.3" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-objects"><i class="fa fa-check"></i><b>5.3</b> Objects</a></li>
<li class="chapter" data-level="5.4" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-wst"><i class="fa fa-check"></i><b>5.4</b> The Worksheet object</a></li>
<li class="chapter" data-level="5.5" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#wst-rng"><i class="fa fa-check"></i><b>5.5</b> The Range object</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#named-ranges-in-excel"><i class="fa fa-check"></i><b>5.5.1</b> Named ranges in Excel</a></li>
<li class="chapter" data-level="5.5.2" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#current-region-of-a-range"><i class="fa fa-check"></i><b>5.5.2</b> Current region of a range</a></li>
<li class="chapter" data-level="5.5.3" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#input-and-output-1"><i class="fa fa-check"></i><b>5.5.3</b> Input and output</a></li>
<li class="chapter" data-level="5.5.4" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#sorting-a-range"><i class="fa fa-check"></i><b>5.5.4</b> Sorting a range</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-ary"><i class="fa fa-check"></i><b>5.6</b> Arrays</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#multi-dimensional-arrays"><i class="fa fa-check"></i><b>5.6.1</b> Multi-dimensional arrays</a></li>
<li class="chapter" data-level="5.6.2" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#dynamic-arrays"><i class="fa fa-check"></i><b>5.6.2</b> Dynamic arrays</a></li>
<li class="chapter" data-level="5.6.3" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#input-and-output-2"><i class="fa fa-check"></i><b>5.6.3</b> Input and output</a></li>
<li class="chapter" data-level="5.6.4" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#sorting-arrays"><i class="fa fa-check"></i><b>5.6.4</b> Sorting arrays</a></li>
<li class="chapter" data-level="5.6.5" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#use-arrays-instead-of-ranges"><i class="fa fa-check"></i><b>5.6.5</b> Use arrays instead of ranges</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-coll"><i class="fa fa-check"></i><b>5.7</b> Collections</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#accessing-collections-using-keys"><i class="fa fa-check"></i><b>5.7.1</b> Accessing collections using keys</a></li>
<li class="chapter" data-level="5.7.2" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#collections-containing-objects"><i class="fa fa-check"></i><b>5.7.2</b> Collections containing objects</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-ex-job-seq"><i class="fa fa-check"></i><b>5.8</b> Example - Job sequencing</a></li>
<li class="chapter" data-level="5.9" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#recap-2"><i class="fa fa-check"></i><b>5.9</b> Recap</a></li>
<li class="chapter" data-level="5.10" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-datatypes"><i class="fa fa-check"></i><b>5.10</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-equal"><i class="fa fa-check"></i><b>5.10.1</b> Exercise - Equal entries</a></li>
<li class="chapter" data-level="5.10.2" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-search-products"><i class="fa fa-check"></i><b>5.10.2</b> Exercise - Product search</a></li>
<li class="chapter" data-level="5.10.3" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-read-collections"><i class="fa fa-check"></i><b>5.10.3</b> Exercise - Read collections</a></li>
<li class="chapter" data-level="5.10.4" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-read-arrays"><i class="fa fa-check"></i><b>5.10.4</b> Exercise - Read arrays</a></li>
<li class="chapter" data-level="5.10.5" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-process"><i class="fa fa-check"></i><b>5.10.5</b> Exercise - Process numbers</a></li>
<li class="chapter" data-level="5.10.6" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-search-pay"><i class="fa fa-check"></i><b>5.10.6</b> Exercise - Search payments</a></li>
<li class="chapter" data-level="5.10.7" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-flight"><i class="fa fa-check"></i><b>5.10.7</b> Exercise - Flight search</a></li>
<li class="chapter" data-level="5.10.8" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-search-table"><i class="fa fa-check"></i><b>5.10.8</b> Exercise - Search table</a></li>
<li class="chapter" data-level="5.10.9" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-next-task"><i class="fa fa-check"></i><b>5.10.9</b> Exercise - Find next task</a></li>
<li class="chapter" data-level="5.10.10" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-seat-reservation"><i class="fa fa-check"></i><b>5.10.10</b> Exercise - Seat reservation</a></li>
<li class="chapter" data-level="5.10.11" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-select"><i class="fa fa-check"></i><b>5.10.11</b> Exercise - Transform data (select and filter)</a></li>
<li class="chapter" data-level="5.10.12" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-mutate"><i class="fa fa-check"></i><b>5.10.12</b> Exercise - Transform data (arrange and mutate)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html"><i class="fa fa-check"></i><b>6</b> Generating random numbers</a>
<ul>
<li class="chapter" data-level="6.1" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#lo-vba-random-numbers"><i class="fa fa-check"></i><b>6.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="6.2" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#vba-random-numbers"><i class="fa fa-check"></i><b>6.2</b> Generating random numbers</a></li>
<li class="chapter" data-level="6.3" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#vba-simulation"><i class="fa fa-check"></i><b>6.3</b> Simulation</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#sec-vba-tsp"><i class="fa fa-check"></i><b>6.3.1</b> Example - Traveling salesman problem</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#recap-3"><i class="fa fa-check"></i><b>6.4</b> Recap</a></li>
<li class="chapter" data-level="6.5" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-random-numbers"><i class="fa fa-check"></i><b>6.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-random-int"><i class="fa fa-check"></i><b>6.5.1</b> Exercise - Two random integers</a></li>
<li class="chapter" data-level="6.5.2" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-swap"><i class="fa fa-check"></i><b>6.5.2</b> Exercise - Swap entries</a></li>
<li class="chapter" data-level="6.5.3" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-bakery"><i class="fa fa-check"></i><b>6.5.3</b> Exercise - Dan’s bakery</a></li>
<li class="chapter" data-level="6.5.4" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-generate"><i class="fa fa-check"></i><b>6.5.4</b> Exercise - Generating random numbers</a></li>
<li class="chapter" data-level="6.5.5" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-stoc-functions"><i class="fa fa-check"></i><b>6.5.5</b> Exercise - Stochastic functions</a></li>
<li class="chapter" data-level="6.5.6" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-customer-demand"><i class="fa fa-check"></i><b>6.5.6</b> Exercise - Customer demand</a></li>
<li class="chapter" data-level="6.5.7" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-simple-game"><i class="fa fa-check"></i><b>6.5.7</b> Exercise - A simple game</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II R</b></span></li>
<li class="chapter" data-level="7" data-path="mod-r-install.html"><a href="mod-r-install.html"><i class="fa fa-check"></i><b>7</b> Setting up R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="mod-r-install.html"><a href="mod-r-install.html#lo-r-install"><i class="fa fa-check"></i><b>7.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="7.2" data-path="mod-r-install.html"><a href="mod-r-install.html#r-install"><i class="fa fa-check"></i><b>7.2</b> Install R and RStudio</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="mod-r-install.html"><a href="mod-r-install.html#test-your-installation"><i class="fa fa-check"></i><b>7.2.1</b> Test your installation</a></li>
<li class="chapter" data-level="7.2.2" data-path="mod-r-install.html"><a href="mod-r-install.html#add-on-packages"><i class="fa fa-check"></i><b>7.2.2</b> Add-on packages</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="mod-r-install.html"><a href="mod-r-install.html#r-cloud"><i class="fa fa-check"></i><b>7.3</b> Setup and test Posit Cloud</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html"><i class="fa fa-check"></i><b>8</b> R basics and workflows</a>
<ul>
<li class="chapter" data-level="8.1" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#lo-r-workflow"><i class="fa fa-check"></i><b>8.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="8.2" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#working-with-r-at-the-command-line-in-rstudio"><i class="fa fa-check"></i><b>8.2</b> Working with R at the command line in RStudio</a></li>
<li class="chapter" data-level="8.3" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#your-first-datacamp-course"><i class="fa fa-check"></i><b>8.3</b> Your first DataCamp course</a></li>
<li class="chapter" data-level="8.4" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#pipes"><i class="fa fa-check"></i><b>8.4</b> Pipes</a></li>
<li class="chapter" data-level="8.5" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#rprojs"><i class="fa fa-check"></i><b>8.5</b> RStudio projects</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#storing-your-code-in-a-script-file"><i class="fa fa-check"></i><b>8.5.1</b> Storing your code in a script file</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#rc-r-workflow"><i class="fa fa-check"></i><b>8.6</b> Recap</a></li>
<li class="chapter" data-level="8.7" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#ex-r-workflow"><i class="fa fa-check"></i><b>8.7</b> Exercises</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-group-work"><i class="fa fa-check"></i><b>8.7.1</b> Exercise (group work)</a></li>
<li class="chapter" data-level="8.7.2" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-piping"><i class="fa fa-check"></i><b>8.7.2</b> Exercise (piping)</a></li>
<li class="chapter" data-level="8.7.3" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-working-dir"><i class="fa fa-check"></i><b>8.7.3</b> Exercise (working dir)</a></li>
<li class="chapter" data-level="8.7.4" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-vectors"><i class="fa fa-check"></i><b>8.7.4</b> Exercise (vectors)</a></li>
<li class="chapter" data-level="8.7.5" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-matrices"><i class="fa fa-check"></i><b>8.7.5</b> Exercise (matrices)</a></li>
<li class="chapter" data-level="8.7.6" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-data-frames"><i class="fa fa-check"></i><b>8.7.6</b> Exercise (data frames)</a></li>
<li class="chapter" data-level="8.7.7" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-lists"><i class="fa fa-check"></i><b>8.7.7</b> Exercise (lists)</a></li>
<li class="chapter" data-level="8.7.8" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#ex-strings"><i class="fa fa-check"></i><b>8.7.8</b> Exercise (string management)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html"><i class="fa fa-check"></i><b>9</b> Loops and conditionals</a>
<ul>
<li class="chapter" data-level="9.1" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#lo-loops"><i class="fa fa-check"></i><b>9.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="9.2" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#r-dc-loops-cond"><i class="fa fa-check"></i><b>9.2</b> Conditionals and control flow</a></li>
<li class="chapter" data-level="9.3" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#r-loops"><i class="fa fa-check"></i><b>9.3</b> Loops</a></li>
<li class="chapter" data-level="9.4" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#rc-r-loops-cond"><i class="fa fa-check"></i><b>9.4</b> Recap</a></li>
<li class="chapter" data-level="9.5" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-r-loops-cond"><i class="fa fa-check"></i><b>9.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-r-conditional-expressions"><i class="fa fa-check"></i><b>9.5.1</b> Exercise (conditional expressions)</a></li>
<li class="chapter" data-level="9.5.2" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-r-loops"><i class="fa fa-check"></i><b>9.5.2</b> Exercise (loops)</a></li>
<li class="chapter" data-level="9.5.3" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-r-search-vector"><i class="fa fa-check"></i><b>9.5.3</b> Exercise (search vector)</a></li>
<li class="chapter" data-level="9.5.4" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-dist"><i class="fa fa-check"></i><b>9.5.4</b> Exercise (calculating distances)</a></li>
<li class="chapter" data-level="9.5.5" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-r-expand"><i class="fa fa-check"></i><b>9.5.5</b> Exercise (expand_grid)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="mod-r-functions.html"><a href="mod-r-functions.html"><i class="fa fa-check"></i><b>10</b> Functions</a>
<ul>
<li class="chapter" data-level="10.1" data-path="mod-r-functions.html"><a href="mod-r-functions.html#lo-r-functions"><i class="fa fa-check"></i><b>10.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="10.2" data-path="mod-r-functions.html"><a href="mod-r-functions.html#r-dc-functions"><i class="fa fa-check"></i><b>10.2</b> DataCamp course</a></li>
<li class="chapter" data-level="10.3" data-path="mod-r-functions.html"><a href="mod-r-functions.html#r-functions-extra"><i class="fa fa-check"></i><b>10.3</b> Functions returning multiple objects</a></li>
<li class="chapter" data-level="10.4" data-path="mod-r-functions.html"><a href="mod-r-functions.html#r-functions-arg"><i class="fa fa-check"></i><b>10.4</b> The <code>...</code> argument</a></li>
<li class="chapter" data-level="10.5" data-path="mod-r-functions.html"><a href="mod-r-functions.html#r-functions-doc"><i class="fa fa-check"></i><b>10.5</b> Documenting your functions</a></li>
<li class="chapter" data-level="10.6" data-path="mod-r-functions.html"><a href="mod-r-functions.html#example---job-sequencing"><i class="fa fa-check"></i><b>10.6</b> Example - Job sequencing</a></li>
<li class="chapter" data-level="10.7" data-path="mod-r-functions.html"><a href="mod-r-functions.html#rc-functions"><i class="fa fa-check"></i><b>10.7</b> Recap</a></li>
<li class="chapter" data-level="10.8" data-path="mod-r-functions.html"><a href="mod-r-functions.html#ex-r-functions"><i class="fa fa-check"></i><b>10.8</b> Exercises</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="mod-r-functions.html"><a href="mod-r-functions.html#ex-r-def-func"><i class="fa fa-check"></i><b>10.8.1</b> Exercise (defining functions)</a></li>
<li class="chapter" data-level="10.8.2" data-path="mod-r-functions.html"><a href="mod-r-functions.html#ex-r-euclidean-distances"><i class="fa fa-check"></i><b>10.8.2</b> Exercise (euclidean distances)</a></li>
<li class="chapter" data-level="10.8.3" data-path="mod-r-functions.html"><a href="mod-r-functions.html#exercise-scope"><i class="fa fa-check"></i><b>10.8.3</b> Exercise (scope)</a></li>
<li class="chapter" data-level="10.8.4" data-path="mod-r-functions.html"><a href="mod-r-functions.html#ex-r-time-conversion"><i class="fa fa-check"></i><b>10.8.4</b> Exercise (time conversion)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html"><i class="fa fa-check"></i><b>11</b> Introduction to tidyverse and RMarkdown</a>
<ul>
<li class="chapter" data-level="11.1" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#lo-tidyverse-intro"><i class="fa fa-check"></i><b>11.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="11.2" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#r-tidyverse-intro"><i class="fa fa-check"></i><b>11.2</b> The tidyverse package</a></li>
<li class="chapter" data-level="11.3" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#r-markdown-intro"><i class="fa fa-check"></i><b>11.3</b> Writing reproducible reports</a></li>
<li class="chapter" data-level="11.4" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#r-tibbles-intro"><i class="fa fa-check"></i><b>11.4</b> Tibbles</a></li>
<li class="chapter" data-level="11.5" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#rc-tidyverse-intro"><i class="fa fa-check"></i><b>11.5</b> Recap</a></li>
<li class="chapter" data-level="11.6" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#ex-tidyverse-intro"><i class="fa fa-check"></i><b>11.6</b> Exercises</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#exercise-your-first-rmarkdown-exercise"><i class="fa fa-check"></i><b>11.6.1</b> Exercise (your first RMarkdown exercise)</a></li>
<li class="chapter" data-level="11.6.2" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#exercise-tibbles"><i class="fa fa-check"></i><b>11.6.2</b> Exercise (tibbles)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="mod-r-io.html"><a href="mod-r-io.html"><i class="fa fa-check"></i><b>12</b> Importing and exporting data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="mod-r-io.html"><a href="mod-r-io.html#lo-r-io"><i class="fa fa-check"></i><b>12.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="12.2" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-csv"><i class="fa fa-check"></i><b>12.2</b> CSV files</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="mod-r-io.html"><a href="mod-r-io.html#reading-a-csv-file"><i class="fa fa-check"></i><b>12.2.1</b> Reading a CSV file</a></li>
<li class="chapter" data-level="12.2.2" data-path="mod-r-io.html"><a href="mod-r-io.html#writing-to-csv-files"><i class="fa fa-check"></i><b>12.2.2</b> Writing to CSV files</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-excel"><i class="fa fa-check"></i><b>12.3</b> Excel</a></li>
<li class="chapter" data-level="12.4" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-google"><i class="fa fa-check"></i><b>12.4</b> Google Sheets</a></li>
<li class="chapter" data-level="12.5" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-text"><i class="fa fa-check"></i><b>12.5</b> Text files</a></li>
<li class="chapter" data-level="12.6" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-r"><i class="fa fa-check"></i><b>12.6</b> R’s native binary format</a></li>
<li class="chapter" data-level="12.7" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-json"><i class="fa fa-check"></i><b>12.7</b> Json</a></li>
<li class="chapter" data-level="12.8" data-path="mod-r-io.html"><a href="mod-r-io.html#rc-r-io"><i class="fa fa-check"></i><b>12.8</b> Recap</a></li>
<li class="chapter" data-level="12.9" data-path="mod-r-io.html"><a href="mod-r-io.html#ex-r-io"><i class="fa fa-check"></i><b>12.9</b> Exercises</a>
<ul>
<li class="chapter" data-level="12.9.1" data-path="mod-r-io.html"><a href="mod-r-io.html#exercise-statistikbanken"><i class="fa fa-check"></i><b>12.9.1</b> Exercise (Statistikbanken)</a></li>
<li class="chapter" data-level="12.9.2" data-path="mod-r-io.html"><a href="mod-r-io.html#exercise-tuples-in-opl"><i class="fa fa-check"></i><b>12.9.2</b> Exercise (tuples in OPL)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="mod-r-transform.html"><a href="mod-r-transform.html"><i class="fa fa-check"></i><b>13</b> Transforming data</a>
<ul>
<li class="chapter" data-level="13.1" data-path="mod-r-transform.html"><a href="mod-r-transform.html#lo-r-transform"><i class="fa fa-check"></i><b>13.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="13.2" data-path="mod-r-transform.html"><a href="mod-r-transform.html#r-transform-tidyverse"><i class="fa fa-check"></i><b>13.2</b> Working with data in the tidyverse</a></li>
<li class="chapter" data-level="13.3" data-path="mod-r-transform.html"><a href="mod-r-transform.html#r-transform-joins"><i class="fa fa-check"></i><b>13.3</b> Mutating joins</a></li>
<li class="chapter" data-level="13.4" data-path="mod-r-transform.html"><a href="mod-r-transform.html#rc-r-transform"><i class="fa fa-check"></i><b>13.4</b> Recap</a></li>
<li class="chapter" data-level="13.5" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-r-transform"><i class="fa fa-check"></i><b>13.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-gapminder1"><i class="fa fa-check"></i><b>13.5.1</b> Exercise (gapminder)</a></li>
<li class="chapter" data-level="13.5.2" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-babynames1"><i class="fa fa-check"></i><b>13.5.2</b> Exercise (babynames)</a></li>
<li class="chapter" data-level="13.5.3" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-profit1"><i class="fa fa-check"></i><b>13.5.3</b> Exercise (profit)</a></li>
<li class="chapter" data-level="13.5.4" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-fish"><i class="fa fa-check"></i><b>13.5.4</b> Exercise (fisheries)</a></li>
<li class="chapter" data-level="13.5.5" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-company"><i class="fa fa-check"></i><b>13.5.5</b> Exercise (company ranking)</a></li>
<li class="chapter" data-level="13.5.6" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-titanic"><i class="fa fa-check"></i><b>13.5.6</b> Exercise (Titanic)</a></li>
<li class="chapter" data-level="13.5.7" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-r-covid"><i class="fa fa-check"></i><b>13.5.7</b> Exercise (covid)</a></li>
<li class="chapter" data-level="13.5.8" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-r-election"><i class="fa fa-check"></i><b>13.5.8</b> Exercise (election)</a></li>
<li class="chapter" data-level="13.5.9" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-r-orders"><i class="fa fa-check"></i><b>13.5.9</b> Exercise (orders)</a></li>
<li class="chapter" data-level="13.5.10" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-r-jobs"><i class="fa fa-check"></i><b>13.5.10</b> Exercise (jobs)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="mod-r-plot.html"><a href="mod-r-plot.html"><i class="fa fa-check"></i><b>14</b> Data visualization using ggplot</a>
<ul>
<li class="chapter" data-level="14.1" data-path="mod-r-plot.html"><a href="mod-r-plot.html#lo-plot"><i class="fa fa-check"></i><b>14.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="14.2" data-path="mod-r-plot.html"><a href="mod-r-plot.html#r-plot-intro"><i class="fa fa-check"></i><b>14.2</b> Introduction to data visualization</a></li>
<li class="chapter" data-level="14.3" data-path="mod-r-plot.html"><a href="mod-r-plot.html#r-plot-multi"><i class="fa fa-check"></i><b>14.3</b> Combining plots into one using <em>patchwork</em></a></li>
<li class="chapter" data-level="14.4" data-path="mod-r-plot.html"><a href="mod-r-plot.html#r-plot-save"><i class="fa fa-check"></i><b>14.4</b> Saving graphics</a></li>
<li class="chapter" data-level="14.5" data-path="mod-r-plot.html"><a href="mod-r-plot.html#rc-r-plot"><i class="fa fa-check"></i><b>14.5</b> Recap</a></li>
<li class="chapter" data-level="14.6" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-r-plot"><i class="fa fa-check"></i><b>14.6</b> Exercises</a>
<ul>
<li class="chapter" data-level="14.6.1" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-gapminder2"><i class="fa fa-check"></i><b>14.6.1</b> Exercise (gapminder)</a></li>
<li class="chapter" data-level="14.6.2" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-profit2"><i class="fa fa-check"></i><b>14.6.2</b> Exercise (profit)</a></li>
<li class="chapter" data-level="14.6.3" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-covid19"><i class="fa fa-check"></i><b>14.6.3</b> Exercise (COVID-19)</a></li>
<li class="chapter" data-level="14.6.4" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-lego"><i class="fa fa-check"></i><b>14.6.4</b> Exercise (Lego and sales)</a></li>
<li class="chapter" data-level="14.6.5" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-company-plot"><i class="fa fa-check"></i><b>14.6.5</b> Exercise (company ranking)</a></li>
<li class="chapter" data-level="14.6.6" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-titanic-plot"><i class="fa fa-check"></i><b>14.6.6</b> Exercise (Titanic)</a></li>
<li class="chapter" data-level="14.6.7" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-r-covid-plot"><i class="fa fa-check"></i><b>14.6.7</b> Exercise (covid)</a></li>
<li class="chapter" data-level="14.6.8" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-r-election-plot"><i class="fa fa-check"></i><b>14.6.8</b> Exercise (election)</a></li>
<li class="chapter" data-level="14.6.9" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-r-orders-plot"><i class="fa fa-check"></i><b>14.6.9</b> Exercise (orders)</a></li>
<li class="chapter" data-level="14.6.10" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-r-nycflights"><i class="fa fa-check"></i><b>14.6.10</b> Exercise (New York flights)</a></li>
<li class="chapter" data-level="14.6.11" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-r-jobs-plot"><i class="fa fa-check"></i><b>14.6.11</b> Exercise (jobs)</a></li>
<li class="chapter" data-level="14.6.12" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-r-onecom"><i class="fa fa-check"></i><b>14.6.12</b> Exercise (OneCom)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Extra R</b></span></li>
<li class="chapter" data-level="15" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html"><i class="fa fa-check"></i><b>15</b> Fitting probability distributions</a>
<ul>
<li class="chapter" data-level="15.1" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#lo-r-dist-fit"><i class="fa fa-check"></i><b>15.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="15.2" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#sec-r-dist-fit-intro"><i class="fa fa-check"></i><b>15.2</b> Introduction</a></li>
<li class="chapter" data-level="15.3" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#sec-r-dist-fit-cont"><i class="fa fa-check"></i><b>15.3</b> Fitting distributions to continuous data</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#example-breakdown-times"><i class="fa fa-check"></i><b>15.3.1</b> Example: breakdown times</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#sec-r-dist-fit-discrete"><i class="fa fa-check"></i><b>15.4</b> Fitting distributions to discrete data</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#example-sales-of-lottery-tickets"><i class="fa fa-check"></i><b>15.4.1</b> Example: sales of lottery tickets</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#sec-dist-fit-pois"><i class="fa fa-check"></i><b>15.5</b> The Poisson process</a></li>
<li class="chapter" data-level="15.6" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#rc-r-dist-fit"><i class="fa fa-check"></i><b>15.6</b> Recap</a></li>
<li class="chapter" data-level="15.7" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#ex-r-dist-fit"><i class="fa fa-check"></i><b>15.7</b> Exercises</a>
<ul>
<li class="chapter" data-level="15.7.1" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#exercise---call-center"><i class="fa fa-check"></i><b>15.7.1</b> Exercise - Call center</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="mod-r-maps.html"><a href="mod-r-maps.html"><i class="fa fa-check"></i><b>16</b> Spatial data and maps</a>
<ul>
<li class="chapter" data-level="16.1" data-path="mod-r-maps.html"><a href="mod-r-maps.html#lo-maps"><i class="fa fa-check"></i><b>16.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="16.2" data-path="mod-r-maps.html"><a href="mod-r-maps.html#sec-map-api-key"><i class="fa fa-check"></i><b>16.2</b> Services for obtatining spatial data</a></li>
<li class="chapter" data-level="16.3" data-path="mod-r-maps.html"><a href="mod-r-maps.html#calculating-distances"><i class="fa fa-check"></i><b>16.3</b> Calculating distances</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="mod-r-maps.html"><a href="mod-r-maps.html#using-google-maps"><i class="fa fa-check"></i><b>16.3.1</b> Using Google Maps</a></li>
<li class="chapter" data-level="16.3.2" data-path="mod-r-maps.html"><a href="mod-r-maps.html#using-bing-maps"><i class="fa fa-check"></i><b>16.3.2</b> Using Bing Maps</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="mod-r-maps.html"><a href="mod-r-maps.html#geocoding-and-reverse-geocoding"><i class="fa fa-check"></i><b>16.4</b> Geocoding and reverse geocoding</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="mod-r-maps.html"><a href="mod-r-maps.html#using-google-maps-1"><i class="fa fa-check"></i><b>16.4.1</b> Using Google maps</a></li>
<li class="chapter" data-level="16.4.2" data-path="mod-r-maps.html"><a href="mod-r-maps.html#use-bing-maps"><i class="fa fa-check"></i><b>16.4.2</b> Use Bing Maps</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="mod-r-maps.html"><a href="mod-r-maps.html#adding-markers-and-routes-to-a-map"><i class="fa fa-check"></i><b>16.5</b> Adding markers and routes to a map</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="groups.html"><a href="groups.html"><i class="fa fa-check"></i><b>A</b> Working in groups</a>
<ul>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#using-git"><i class="fa fa-check"></i>Using Git together with GitHub</a>
<ul>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#register-a-free-github-account"><i class="fa fa-check"></i>Register a free GitHub account</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#install-git"><i class="fa fa-check"></i>Install Git</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#check-your-installation"><i class="fa fa-check"></i>Check your installation</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#setup-projects-using-git-and-github"><i class="fa fa-check"></i>Setup projects using Git and GitHub</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="annotate.html"><a href="annotate.html"><i class="fa fa-check"></i><b>B</b> Annotate the course notes</a></li>
<li class="chapter" data-level="C" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>C</b> Getting help</a></li>
<li class="chapter" data-level="D" data-path="coding-convention.html"><a href="coding-convention.html"><i class="fa fa-check"></i><b>D</b> Coding/naming convention</a>
<ul>
<li class="chapter" data-level="D.1" data-path="coding-convention.html"><a href="coding-convention.html#commenting-your-code"><i class="fa fa-check"></i><b>D.1</b> Commenting your code</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="apdx-vba.html"><a href="apdx-vba.html"><i class="fa fa-check"></i><b>E</b> VBA specific topics</a>
<ul>
<li class="chapter" data-level="E.1" data-path="apdx-vba.html"><a href="apdx-vba.html#vba-debug"><i class="fa fa-check"></i><b>E.1</b> Debugging your code</a></li>
<li class="chapter" data-level="E.2" data-path="apdx-vba.html"><a href="apdx-vba.html#error-handling"><i class="fa fa-check"></i><b>E.2</b> Error handling</a></li>
<li class="chapter" data-level="E.3" data-path="apdx-vba.html"><a href="apdx-vba.html#vba-course-procedures"><i class="fa fa-check"></i><b>E.3</b> Course procedures</a>
<ul>
<li class="chapter" data-level="E.3.1" data-path="apdx-vba.html"><a href="apdx-vba.html#detailed-descriptions-of-course-procedures"><i class="fa fa-check"></i><b>E.3.1</b> Detailed descriptions of course procedures</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="F" data-path="lg-course.html"><a href="lg-course.html"><i class="fa fa-check"></i><b>F</b> Learning goals</a></li>
<li class="chapter" data-level="G" data-path="ba.html"><a href="ba.html"><i class="fa fa-check"></i><b>G</b> Business Analytics</a></li>
<li class="chapter" data-level="H" data-path="colophon.html"><a href="colophon.html"><i class="fa fa-check"></i><b>H</b> Colophon</a></li>
<li class="divider"></li>
<li><center>
  <a rel="license" href="./index.html#ack">
    License: CC BY-NC-SA<br>
    <i class = "fab fa-creative-commons fa-2x"></i>
    <i class = "fab fa-creative-commons-by fa-2x"></i>
    <i class = "fab fa-creative-commons-nc fa-2x"></i>
    <i class = "fab fa-creative-commons-sa fa-2x"></i>
  </a>
</li></center>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tools for Analytics (TFA)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mod-r-functions" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">Module 10</span> Functions<a href="mod-r-functions.html#mod-r-functions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p>To understand computations in R, two slogans are helpful:</p>
<p>Everything that exists is an object.</p>
<p>Everything that happens is a function call.</p>
<p>John Chambers</p>
</blockquote>
<p>Writing functions is a core activity of an R programmer. It represents the key step of the transition from a user to a programmer. Functions have inputs and outputs. Functions (and control structures) are what makes your code more dynamic.</p>
<p>Functions are often used to encapsulate a sequence of expressions that needs to be executed numerous times, perhaps under slightly different conditions. In programming, functional programming is a programming paradigm, a style of how code is written. Rather than repeating the code, functions and control structures allow one to build code in blocks. As a result, your code becomes more structured, more readable and much easier to maintain and debug (find errors).</p>
<p>A template project for this module is given on <a href="https://posit.cloud/spaces/426101/content/6689204">Posit Cloud</a> (open it and use it while reading the notes).</p>
<div id="learning-path-diagram-9" class="section level4 unnumbered hasAnchor">
<h4>Learning path diagram<a href="mod-r-functions.html#learning-path-diagram-9" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="grViz html-widget html-fill-item" id="htmlwidget-3c79798d7289e3ffd1ac" style="width:100%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-3c79798d7289e3ffd1ac">{"x":{"diagram":"digraph {\n\ngraph [layout = \"neato\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"💡 Functions\", URL = \"#r-dc-functions\", tooltip = \"Functions\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"egg\", margin = \"0.2\", fillcolor = \"DarkSeaGreen4\", width = \"0.5\", pos = \"0,2!\"] \n  \"2\" [label = \"📖 Functions\\n(further)\", URL = \"#r-functions-extra\", tooltip = \"Functions returning multiple objects\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", fillcolor = \"DarkSeaGreen4\", width = \"0.5\", pos = \"2,2!\"] \n  \"3\" [label = \"📖 The ...\\nargument\", URL = \"#r-functions-arg\", tooltip = \"The `...` argument\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", fillcolor = \"DarkSeaGreen4\", width = \"0.5\", pos = \"4,2!\"] \n  \"4\" [label = \"📖 Documentation\", URL = \"#r-functions-doc\", tooltip = \"Documenting your functions\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", fillcolor = \"DarkSeaGreen4\", width = \"0.5\", pos = \"6,2!\"] \n  \"5\" [label = \"💻 Exercises\", URL = \"#ex-r-functions\", tooltip = \"Exercises\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"egg\", margin = \"0.2\", fillcolor = \"DarkSeaGreen4\", width = \"0.5\", pos = \"8,2!\"] \n  \"6\" [label = \"💡 Functions\\n(detailed)\", URL = \"https://app.datacamp.com/learn/courses/introduction-to-writing-functions-in-r\", tooltip = \"A detailed interactive tutorial about functions.\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"egg\", margin = \"0.2\", fillcolor = \"PeachPuff3\", width = \"0.5\", pos = \"2,0.5!\"] \n  \"7\" [label = \"🎬 Functions\", URL = \"https://www.youtube.com/watch?v=ffPeac3BigM\", tooltip = \"Hefin Rhys has a video about writing functions with examples.\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", fillcolor = \"DarkOrange4\", width = \"0.5\", pos = \"0,4!\"] \n  \"8\" [label = \"📖 Functions\", URL = \"https://bookdown.org/rdpeng/rprogdatascience/functions.html\", tooltip = \"An introduction to functions given in Chapter 14 of the book by Peng (2018).\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", fillcolor = \"DarkOrange4\", width = \"0.5\", pos = \"2,4!\"] \n  \"9\" [label = \"📖 Functions (Part 1)\", URL = \"https://stat545.com/functions-part1.html\", tooltip = \"A detailed tutorial on functions is given in Chapters 18, 19 and 20 of Bryan (2017).\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", fillcolor = \"PeachPuff3\", width = \"0.5\", pos = \"0,0.5!\"] \n  \"10\" [label = \"📖 Functions (Part 2)\", URL = \"https://stat545.com/functions-part2.html\", tooltip = \"A detailed tutorial on functions is given in Chapters 18, 19 and 20 of Bryan (2017).\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", fillcolor = \"PeachPuff3\", width = \"0.5\", pos = \"0,-0.5!\"] \n  \"11\" [label = \"📖 Functions (Part 3)\", URL = \"https://stat545.com/functions-part3.html\", tooltip = \"A detailed tutorial on functions is given in Chapters 18, 19 and 20 of Bryan (2017).\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", fillcolor = \"PeachPuff3\", width = \"0.5\", pos = \"0,-1.5!\"] \n  \"12\" [label = \"\", URL = \"\", tooltip = \" \", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"0.5\", fontname = \"Helvetica\", shape = \"rect\", fillcolor = \"#F0F8FF\", height = \"1\", width = \"6\", pos = \"5.9,3.91!\"] \n  \"13\" [label = \"Color:\", URL = \"\", tooltip = \" \", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"black\", penwidth = \"0\", fontname = \"Helvetica\", shape = \"none\", fillcolor = \"#FFFFFE\", height = \"0\", width = \"0.8\", pos = \"3.27,4.25!\"] \n  \"14\" [label = \"mandatory\", URL = \"\", tooltip = \"Mandatory syllabus.\", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica\", shape = \"rect\", fillcolor = \"DarkSeaGreen4\", width = \"0.8\", pos = \"3.5,3.85!\"] \n  \"15\" [label = \"alternative\", URL = \"\", tooltip = \"Alternative syllabus if you prefer another learning style.\", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica\", shape = \"rect\", fillcolor = \"DarkOrange4\", width = \"0.8\", pos = \"4.5,3.85!\"] \n  \"16\" [label = \"extra\", URL = \"\", tooltip = \"Extra learning if you are interested (not part of syllabus).\", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica\", shape = \"rect\", fillcolor = \"PeachPuff3\", width = \"0.8\", pos = \"5.5,3.85!\"] \n  \"17\" [label = \"Shape:\", URL = \"\", tooltip = \" \", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"black\", penwidth = \"0\", fontname = \"Helvetica\", shape = \"none\", fillcolor = \"#FFFFFE\", height = \"0\", width = \"1\", pos = \"6.7,4.25!\"] \n  \"18\" [label = \"non-interactive\", URL = \"\", tooltip = \"Non-interactive learning content (e.g. reading).\", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica\", shape = \"rect\", fillcolor = \"Grey40\", width = \"1\", pos = \"7,3.85!\"] \n  \"19\" [label = \"interactive\", URL = \"\", tooltip = \"Interactive learning content (tutorial, exercises etc.).\", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica\", shape = \"egg\", fillcolor = \"Grey40\", width = \"1\", pos = \"8.25,3.85!\"] \n\"1\"->\"2\" [color = \"black\", arrowhead = \"vee\"] \n\"1\"->\"7\" [color = \"black\", arrowhead = \"vee\"] \n\"1\"->\"8\" [color = \"black\", arrowhead = \"vee\"] \n\"1\"->\"9\" [color = \"black\", arrowhead = \"vee\"] \n\"2\"->\"3\" [color = \"black\", arrowhead = \"vee\"] \n\"2\"->\"6\" [color = \"black\", arrowhead = \"vee\"] \n\"3\"->\"4\" [color = \"black\", arrowhead = \"vee\"] \n\"4\"->\"5\" [color = \"black\", arrowhead = \"vee\"] \n\"9\"->\"10\" [color = \"black\", arrowhead = \"vee\"] \n\"10\"->\"11\" [color = \"black\", arrowhead = \"vee\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<div>It is recommended that you follow the green learning path; however, you may like a different learning style. In the learning path diagram, there are links to alternative online content (video or reading). Note this is an alternative to the standard learning path that you may use instead (you should not do both). The learning path may also have extra content, that is NOT a part of syllabus (only look at it if you want more info)!</div>
<!-- We are all different and you may like different learning styles compared to others. You may prefer a different learning path than suggested. Here is a list of possible different learning paths that may be useful for you. Note these suggestions are not a part of syllabus! -->
<!-- * For a more detailed interactive tutorial about functions see the DataCamp course [Introduction to Writing Functions in R][datacamp-r-functions]. -->
<!-- * Hefin Rhys has a video about [Writing functions in R][video-functions] giving examples in RStudio. -->
<!-- * An introduction to functions is also given in [Chapter 14](https://bookdown.org/rdpeng/rprogdatascience/functions.html) of @rdpeng. -->
<!-- * A detailed tutorial on functions is given in Chapters [18][stat-545-functions-part1], [19][stat-545-functions-part2] and [20][stat-545-functions-part3] of @stat545. -->
</div>
<div id="lo-r-functions" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Learning outcomes<a href="mod-r-functions.html#lo-r-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By the end of this module, you are expected to be able to:</p>
<ul>
<li>Call a function.</li>
<li>Formulate a function with different input arguments.</li>
<li>Describe why functions are important in R.</li>
<li>Set defaults for input arguments.</li>
<li>Return values from functions.</li>
<li>Explain how variable scope and precedence works.</li>
<li>Document functions.</li>
</ul>
<p>The learning outcomes relate to the <a href="lg-course.html#lg-course">overall learning goals</a> number 2, 3, 4 and 10 of the course.</p>
<!-- SOLO increasing: identify · memorize · name · do simple procedure · collect data · -->
<!-- enumerate · describe · interpret · formulate · list · paraphrase · combine · do -->
<!-- algorithms · compare · contrast · explain causes · analyze · relate · derive · -->
<!-- evaluate · apply · argue · theorize · generalize · hypothesis · solve · reflect -->
</div>
<div id="r-dc-functions" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> DataCamp course<a href="mod-r-functions.html#r-dc-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>An excellent introduction to functions is given in <a href="https://campus.datacamp.com/courses/intermediate-r/chapter-3-functions">Chapter 3</a> in the DataCamp course <a href="https://learn.datacamp.com/courses/intermediate-r">Intermediate R</a>. Please complete the chapter before continuing.</p>
</div>
<div id="r-functions-extra" class="section level2 hasAnchor" number="10.3">
<h2><span class="header-section-number">10.3</span> Functions returning multiple objects<a href="mod-r-functions.html#r-functions-extra" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Functions in R only return a single object. However, note that the object may be a list. That is, if you want to return multiple arguments, store them in a list. A simple example:</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="mod-r-functions.html#cb344-1" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb344-2"><a href="mod-r-functions.html#cb344-2" tabindex="-1"></a>  <span class="co"># the function does some stuff and calculate some results</span></span>
<span id="cb344-3"><a href="mod-r-functions.html#cb344-3" tabindex="-1"></a>  res1 <span class="ot">&lt;-</span> <span class="dv">45</span></span>
<span id="cb344-4"><a href="mod-r-functions.html#cb344-4" tabindex="-1"></a>  res2 <span class="ot">&lt;-</span> <span class="st">&quot;Success&quot;</span></span>
<span id="cb344-5"><a href="mod-r-functions.html#cb344-5" tabindex="-1"></a>  res3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb344-6"><a href="mod-r-functions.html#cb344-6" tabindex="-1"></a>  res4 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">cost =</span> <span class="dv">23</span>, <span class="at">profit =</span> <span class="dv">200</span>)</span>
<span id="cb344-7"><a href="mod-r-functions.html#cb344-7" tabindex="-1"></a>  lst <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">days =</span> res1, <span class="at">run =</span> res2, <span class="at">id =</span> res3, <span class="at">money =</span> res4)</span>
<span id="cb344-8"><a href="mod-r-functions.html#cb344-8" tabindex="-1"></a>  <span class="fu">return</span>(lst)</span>
<span id="cb344-9"><a href="mod-r-functions.html#cb344-9" tabindex="-1"></a>}</span>
<span id="cb344-10"><a href="mod-r-functions.html#cb344-10" tabindex="-1"></a><span class="fu">test</span>()</span>
<span id="cb344-11"><a href="mod-r-functions.html#cb344-11" tabindex="-1"></a><span class="co">#&gt; $days</span></span>
<span id="cb344-12"><a href="mod-r-functions.html#cb344-12" tabindex="-1"></a><span class="co">#&gt; [1] 45</span></span>
<span id="cb344-13"><a href="mod-r-functions.html#cb344-13" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb344-14"><a href="mod-r-functions.html#cb344-14" tabindex="-1"></a><span class="co">#&gt; $run</span></span>
<span id="cb344-15"><a href="mod-r-functions.html#cb344-15" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Success&quot;</span></span>
<span id="cb344-16"><a href="mod-r-functions.html#cb344-16" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb344-17"><a href="mod-r-functions.html#cb344-17" tabindex="-1"></a><span class="co">#&gt; $id</span></span>
<span id="cb344-18"><a href="mod-r-functions.html#cb344-18" tabindex="-1"></a><span class="co">#&gt; [1] 4 7 9</span></span>
<span id="cb344-19"><a href="mod-r-functions.html#cb344-19" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb344-20"><a href="mod-r-functions.html#cb344-20" tabindex="-1"></a><span class="co">#&gt; $money</span></span>
<span id="cb344-21"><a href="mod-r-functions.html#cb344-21" tabindex="-1"></a><span class="co">#&gt; $money$cost</span></span>
<span id="cb344-22"><a href="mod-r-functions.html#cb344-22" tabindex="-1"></a><span class="co">#&gt; [1] 23</span></span>
<span id="cb344-23"><a href="mod-r-functions.html#cb344-23" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb344-24"><a href="mod-r-functions.html#cb344-24" tabindex="-1"></a><span class="co">#&gt; $money$profit</span></span>
<span id="cb344-25"><a href="mod-r-functions.html#cb344-25" tabindex="-1"></a><span class="co">#&gt; [1] 200</span></span></code></pre></div>
</div>
<div id="r-functions-arg" class="section level2 hasAnchor" number="10.4">
<h2><span class="header-section-number">10.4</span> The <code>...</code> argument<a href="mod-r-functions.html#r-functions-arg" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The special argument <code>...</code> indicates a variable number of arguments and is usually used to pass arguments to nested functions used inside the function. Consider example:</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="mod-r-functions.html#cb345-1" tabindex="-1"></a>my_name <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">first =</span> <span class="st">&quot;Lars&quot;</span>, <span class="at">last =</span> <span class="st">&quot;Nielsen&quot;</span>) {</span>
<span id="cb345-2"><a href="mod-r-functions.html#cb345-2" tabindex="-1"></a>  <span class="fu">str_c</span>(first, last, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb345-3"><a href="mod-r-functions.html#cb345-3" tabindex="-1"></a>}</span>
<span id="cb345-4"><a href="mod-r-functions.html#cb345-4" tabindex="-1"></a><span class="fu">my_name</span>()</span>
<span id="cb345-5"><a href="mod-r-functions.html#cb345-5" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Lars Nielsen&quot;</span></span>
<span id="cb345-6"><a href="mod-r-functions.html#cb345-6" tabindex="-1"></a></span>
<span id="cb345-7"><a href="mod-r-functions.html#cb345-7" tabindex="-1"></a>cite_text <span class="ot">&lt;-</span> <span class="cf">function</span>(text, ...) {</span>
<span id="cb345-8"><a href="mod-r-functions.html#cb345-8" tabindex="-1"></a>  <span class="fu">str_c</span>(text, <span class="st">&#39;, -&#39;</span>, <span class="fu">my_name</span>(...))</span>
<span id="cb345-9"><a href="mod-r-functions.html#cb345-9" tabindex="-1"></a>}</span>
<span id="cb345-10"><a href="mod-r-functions.html#cb345-10" tabindex="-1"></a><span class="fu">cite_text</span>(<span class="st">&quot;Learning by doing is the best way to learn how to program!&quot;</span>)</span>
<span id="cb345-11"><a href="mod-r-functions.html#cb345-11" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Learning by doing is the best way to learn how to program!, -Lars Nielsen&quot;</span></span>
<span id="cb345-12"><a href="mod-r-functions.html#cb345-12" tabindex="-1"></a><span class="fu">cite_text</span>(<span class="st">&quot;Learning by doing is the best way to learn how to program!&quot;</span>, <span class="at">last =</span> <span class="st">&quot;Relund&quot;</span>)</span>
<span id="cb345-13"><a href="mod-r-functions.html#cb345-13" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Learning by doing is the best way to learn how to program!, -Lars Relund&quot;</span></span>
<span id="cb345-14"><a href="mod-r-functions.html#cb345-14" tabindex="-1"></a><span class="fu">cite_text</span>(<span class="st">&quot;To be or not to be&quot;</span>, <span class="at">first =</span> <span class="st">&quot;Shakespeare&quot;</span>, <span class="at">last =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb345-15"><a href="mod-r-functions.html#cb345-15" tabindex="-1"></a><span class="co">#&gt; [1] &quot;To be or not to be, -Shakespeare &quot;</span></span></code></pre></div>
<p>Note in the first function run, we use the defaults in <code>my_name</code>. In the second run, we change the default last name and in the last run, we change both arguments.</p>
<p>If you need to retrieve/capture the content of the <code>...</code> argument, put it in a list:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="mod-r-functions.html#cb346-1" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb346-2"><a href="mod-r-functions.html#cb346-2" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(...))</span>
<span id="cb346-3"><a href="mod-r-functions.html#cb346-3" tabindex="-1"></a>}</span>
<span id="cb346-4"><a href="mod-r-functions.html#cb346-4" tabindex="-1"></a><span class="fu">test</span>(<span class="at">x =</span> <span class="dv">4</span>, <span class="at">y =</span> <span class="st">&quot;hey&quot;</span>, <span class="at">z =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb346-5"><a href="mod-r-functions.html#cb346-5" tabindex="-1"></a><span class="co">#&gt; $x</span></span>
<span id="cb346-6"><a href="mod-r-functions.html#cb346-6" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb346-7"><a href="mod-r-functions.html#cb346-7" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb346-8"><a href="mod-r-functions.html#cb346-8" tabindex="-1"></a><span class="co">#&gt; $y</span></span>
<span id="cb346-9"><a href="mod-r-functions.html#cb346-9" tabindex="-1"></a><span class="co">#&gt; [1] &quot;hey&quot;</span></span>
<span id="cb346-10"><a href="mod-r-functions.html#cb346-10" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb346-11"><a href="mod-r-functions.html#cb346-11" tabindex="-1"></a><span class="co">#&gt; $z</span></span>
<span id="cb346-12"><a href="mod-r-functions.html#cb346-12" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span></code></pre></div>
</div>
<div id="r-functions-doc" class="section level2 hasAnchor" number="10.5">
<h2><span class="header-section-number">10.5</span> Documenting your functions<a href="mod-r-functions.html#r-functions-doc" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>It is always a good idea to document your functions. This is in fact always done in functions of a package. For instance try <code>?mutate</code> and see the documentation in the <strong>Help</strong> tab.</p>
<p>Assume that you have written a function</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="mod-r-functions.html#cb347-1" tabindex="-1"></a>subtract <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb347-2"><a href="mod-r-functions.html#cb347-2" tabindex="-1"></a>  <span class="fu">return</span>(x<span class="sc">-</span>y)</span>
<span id="cb347-3"><a href="mod-r-functions.html#cb347-3" tabindex="-1"></a>}</span></code></pre></div>
<p>In RStudio you can insert a <a href="https://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html">Roxygen</a> documentation skeleton by having the cursor at the first line of the function and go to <strong>Code &gt; Insert Roxygen Skeleton</strong> (Ctrl+Alt+Shift+R):</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="mod-r-functions.html#cb348-1" tabindex="-1"></a><span class="co">#&#39; Title</span></span>
<span id="cb348-2"><a href="mod-r-functions.html#cb348-2" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb348-3"><a href="mod-r-functions.html#cb348-3" tabindex="-1"></a><span class="co">#&#39; @param x </span></span>
<span id="cb348-4"><a href="mod-r-functions.html#cb348-4" tabindex="-1"></a><span class="co">#&#39; @param y </span></span>
<span id="cb348-5"><a href="mod-r-functions.html#cb348-5" tabindex="-1"></a><span class="co">#&#39; @return</span></span>
<span id="cb348-6"><a href="mod-r-functions.html#cb348-6" tabindex="-1"></a><span class="co">#&#39; @export</span></span>
<span id="cb348-7"><a href="mod-r-functions.html#cb348-7" tabindex="-1"></a><span class="co">#&#39; @examples</span></span>
<span id="cb348-8"><a href="mod-r-functions.html#cb348-8" tabindex="-1"></a>subtract <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb348-9"><a href="mod-r-functions.html#cb348-9" tabindex="-1"></a>  <span class="fu">return</span>(x<span class="sc">-</span>y)</span>
<span id="cb348-10"><a href="mod-r-functions.html#cb348-10" tabindex="-1"></a>}</span></code></pre></div>
<p>You now can modify your documentation to</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="mod-r-functions.html#cb349-1" tabindex="-1"></a><span class="co">#&#39; Subtract two vectors</span></span>
<span id="cb349-2"><a href="mod-r-functions.html#cb349-2" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb349-3"><a href="mod-r-functions.html#cb349-3" tabindex="-1"></a><span class="co">#&#39; @param x First vector.</span></span>
<span id="cb349-4"><a href="mod-r-functions.html#cb349-4" tabindex="-1"></a><span class="co">#&#39; @param y Vector to be subtracted.</span></span>
<span id="cb349-5"><a href="mod-r-functions.html#cb349-5" tabindex="-1"></a><span class="co">#&#39; @return The difference.</span></span>
<span id="cb349-6"><a href="mod-r-functions.html#cb349-6" tabindex="-1"></a><span class="co">#&#39; @export</span></span>
<span id="cb349-7"><a href="mod-r-functions.html#cb349-7" tabindex="-1"></a><span class="co">#&#39; @examples</span></span>
<span id="cb349-8"><a href="mod-r-functions.html#cb349-8" tabindex="-1"></a><span class="co">#&#39; subtract(x = c(5,5), y = c(2,3))</span></span>
<span id="cb349-9"><a href="mod-r-functions.html#cb349-9" tabindex="-1"></a>subtract <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb349-10"><a href="mod-r-functions.html#cb349-10" tabindex="-1"></a>  <span class="fu">return</span>(x<span class="sc">-</span>y)</span>
<span id="cb349-11"><a href="mod-r-functions.html#cb349-11" tabindex="-1"></a>}</span></code></pre></div>
<p>Note</p>
<ul>
<li>Parameters/function arguments are documented using the <code>@param</code> tag.</li>
<li>Return value is documented using the <code>@return</code> tag.</li>
<li>Under the <code>@examples</code> tag you can insert some examples.</li>
<li>Ignore the <code>@export</code> tag. This is used if you include your function in your own package. Package development is beyond the scope of this course. If you are interested, have a look at the book <span class="citation">Hadley Wickham (<a href="#ref-r-pkgs">2015</a>)</span>.</li>
</ul>
<p>A list of further tags can be seen in the vignette <a href="https://roxygen2.r-lib.org/articles/rd.html">Rd (documentation) tags</a>.</p>
</div>
<div id="example---job-sequencing" class="section level2 hasAnchor" number="10.6">
<h2><span class="header-section-number">10.6</span> Example - Job sequencing<a href="mod-r-functions.html#example---job-sequencing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Recall the job sequencing problem in Section <a href="mod-vba-datatypes.html#vba-ex-job-seq">5.8</a> that consider a problem of determining the best sequencing of jobs on a machine. A set of startup costs are given for 5 machines:</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="mod-r-functions.html#cb350-1" tabindex="-1"></a>startup_costs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">27</span>, <span class="dv">28</span>, <span class="dv">32</span>, <span class="dv">35</span>, <span class="dv">26</span>)</span>
<span id="cb350-2"><a href="mod-r-functions.html#cb350-2" tabindex="-1"></a>startup_costs</span>
<span id="cb350-3"><a href="mod-r-functions.html#cb350-3" tabindex="-1"></a><span class="co">#&gt; [1] 27 28 32 35 26</span></span></code></pre></div>
<p>Moreover, when changing from one job to another job, the setup costs are given as:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="mod-r-functions.html#cb351-1" tabindex="-1"></a>setup_costs <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(</span>
<span id="cb351-2"><a href="mod-r-functions.html#cb351-2" tabindex="-1"></a>  <span class="cn">NA</span>, <span class="dv">35</span>, <span class="dv">22</span>, <span class="dv">44</span>, <span class="dv">12</span>,</span>
<span id="cb351-3"><a href="mod-r-functions.html#cb351-3" tabindex="-1"></a>  <span class="dv">49</span>, <span class="cn">NA</span>, <span class="dv">46</span>, <span class="dv">38</span>, <span class="dv">17</span>,</span>
<span id="cb351-4"><a href="mod-r-functions.html#cb351-4" tabindex="-1"></a>  <span class="dv">46</span>, <span class="dv">12</span>, <span class="cn">NA</span>, <span class="dv">29</span>, <span class="dv">41</span>,</span>
<span id="cb351-5"><a href="mod-r-functions.html#cb351-5" tabindex="-1"></a>  <span class="dv">23</span>, <span class="dv">37</span>, <span class="dv">31</span>, <span class="cn">NA</span>, <span class="dv">26</span>,</span>
<span id="cb351-6"><a href="mod-r-functions.html#cb351-6" tabindex="-1"></a>  <span class="dv">17</span>, <span class="dv">23</span>, <span class="dv">28</span>, <span class="dv">34</span>, <span class="cn">NA</span>), </span>
<span id="cb351-7"><a href="mod-r-functions.html#cb351-7" tabindex="-1"></a>  <span class="at">byrow =</span> T, <span class="at">nrow =</span> <span class="dv">5</span>)</span>
<span id="cb351-8"><a href="mod-r-functions.html#cb351-8" tabindex="-1"></a>setup_costs</span>
<span id="cb351-9"><a href="mod-r-functions.html#cb351-9" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span id="cb351-10"><a href="mod-r-functions.html#cb351-10" tabindex="-1"></a><span class="co">#&gt; [1,]   NA   35   22   44   12</span></span>
<span id="cb351-11"><a href="mod-r-functions.html#cb351-11" tabindex="-1"></a><span class="co">#&gt; [2,]   49   NA   46   38   17</span></span>
<span id="cb351-12"><a href="mod-r-functions.html#cb351-12" tabindex="-1"></a><span class="co">#&gt; [3,]   46   12   NA   29   41</span></span>
<span id="cb351-13"><a href="mod-r-functions.html#cb351-13" tabindex="-1"></a><span class="co">#&gt; [4,]   23   37   31   NA   26</span></span>
<span id="cb351-14"><a href="mod-r-functions.html#cb351-14" tabindex="-1"></a><span class="co">#&gt; [5,]   17   23   28   34   NA</span></span></code></pre></div>
<p>For instance, the setup cost from Job 2 to Job 4 is 38.</p>
<p>The goal of the problem is to determine a sequence of jobs which minimizes the total setup cost including the startup cost.</p>
<p>One possible way to find a sequence is the use a greedy strategy:</p>
<pre><code>Greedy Algorithm
Step 0: Start with the job which has minimal startup cost.
Step 1: Select the next job as the job not already done 
        with minimal setup cost given current job. 
Step 2: Set next job in Step 1 to current job and 
        go to Step 1 if not all jobs are done.</code></pre>
<p>In R the greedy algorithm can be implemented as:</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="mod-r-functions.html#cb353-1" tabindex="-1"></a><span class="co">#&#39; Calculate a job sequence based on a greedy algorithm</span></span>
<span id="cb353-2"><a href="mod-r-functions.html#cb353-2" tabindex="-1"></a><span class="co">#&#39; </span></span>
<span id="cb353-3"><a href="mod-r-functions.html#cb353-3" tabindex="-1"></a><span class="co">#&#39; @param startup Startup costs.</span></span>
<span id="cb353-4"><a href="mod-r-functions.html#cb353-4" tabindex="-1"></a><span class="co">#&#39; @param setup Setup costs.</span></span>
<span id="cb353-5"><a href="mod-r-functions.html#cb353-5" tabindex="-1"></a><span class="co">#&#39; @return A list with the job sequence and total setup costs.</span></span>
<span id="cb353-6"><a href="mod-r-functions.html#cb353-6" tabindex="-1"></a>greedy <span class="ot">&lt;-</span> <span class="cf">function</span>(startup, setup) {</span>
<span id="cb353-7"><a href="mod-r-functions.html#cb353-7" tabindex="-1"></a>  jobs <span class="ot">&lt;-</span> <span class="fu">nrow</span>(setup)</span>
<span id="cb353-8"><a href="mod-r-functions.html#cb353-8" tabindex="-1"></a>  cur_job <span class="ot">&lt;-</span> <span class="fu">which.min</span>(startup)</span>
<span id="cb353-9"><a href="mod-r-functions.html#cb353-9" tabindex="-1"></a>  cost <span class="ot">&lt;-</span> startup[cur_job]</span>
<span id="cb353-10"><a href="mod-r-functions.html#cb353-10" tabindex="-1"></a>  <span class="co"># cat(&quot;Start job:&quot;, cur_job, &quot;\n&quot;)</span></span>
<span id="cb353-11"><a href="mod-r-functions.html#cb353-11" tabindex="-1"></a>  job_seq <span class="ot">&lt;-</span> cur_job</span>
<span id="cb353-12"><a href="mod-r-functions.html#cb353-12" tabindex="-1"></a>  setup[, cur_job] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb353-13"><a href="mod-r-functions.html#cb353-13" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(jobs<span class="dv">-1</span>)) {</span>
<span id="cb353-14"><a href="mod-r-functions.html#cb353-14" tabindex="-1"></a>    next_job <span class="ot">&lt;-</span> <span class="fu">which.min</span>(setup[cur_job, ])</span>
<span id="cb353-15"><a href="mod-r-functions.html#cb353-15" tabindex="-1"></a>    <span class="co"># cat(&quot;Next job:&quot;, next_job, &quot;\n&quot;) </span></span>
<span id="cb353-16"><a href="mod-r-functions.html#cb353-16" tabindex="-1"></a>    cost <span class="ot">&lt;-</span> cost <span class="sc">+</span> setup[cur_job, next_job]</span>
<span id="cb353-17"><a href="mod-r-functions.html#cb353-17" tabindex="-1"></a>    job_seq <span class="ot">&lt;-</span> <span class="fu">c</span>(job_seq, next_job)</span>
<span id="cb353-18"><a href="mod-r-functions.html#cb353-18" tabindex="-1"></a>    cur_job <span class="ot">&lt;-</span> next_job</span>
<span id="cb353-19"><a href="mod-r-functions.html#cb353-19" tabindex="-1"></a>    setup[, cur_job] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb353-20"><a href="mod-r-functions.html#cb353-20" tabindex="-1"></a>  }</span>
<span id="cb353-21"><a href="mod-r-functions.html#cb353-21" tabindex="-1"></a>  <span class="co"># print(setup)</span></span>
<span id="cb353-22"><a href="mod-r-functions.html#cb353-22" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">seq =</span> job_seq, <span class="at">cost =</span> cost))</span>
<span id="cb353-23"><a href="mod-r-functions.html#cb353-23" tabindex="-1"></a>}</span>
<span id="cb353-24"><a href="mod-r-functions.html#cb353-24" tabindex="-1"></a><span class="fu">greedy</span>(startup_costs, setup_costs)</span>
<span id="cb353-25"><a href="mod-r-functions.html#cb353-25" tabindex="-1"></a><span class="co">#&gt; $seq</span></span>
<span id="cb353-26"><a href="mod-r-functions.html#cb353-26" tabindex="-1"></a><span class="co">#&gt; [1] 5 1 3 2 4</span></span>
<span id="cb353-27"><a href="mod-r-functions.html#cb353-27" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb353-28"><a href="mod-r-functions.html#cb353-28" tabindex="-1"></a><span class="co">#&gt; $cost</span></span>
<span id="cb353-29"><a href="mod-r-functions.html#cb353-29" tabindex="-1"></a><span class="co">#&gt; [1] 115</span></span></code></pre></div>
<p>First, the job with minimum startup cost is found using function <code>which.min</code> and we define cost as the startup cost. We use <code>cat</code> to make some debugging statements and initialize <code>job_seq</code> with the first job. Next, we have to find a way of ignoring jobs already done. We do that here by setting the columns of setup cost equal to NA for jobs already done. Hence, they will not be selected by <code>which.min</code>. The <code>for</code> loop runs 4 times and selects jobs and accumulate the total cost. Finally, the job sequence and the total cost is returned as a list.</p>
<p>A well-known better strategy is to:</p>
<pre><code>Better Algorithm
Step 0: Subtract minimum of startup and setup cost for each job from setup and 
        startup costs (that is columnwise)
Step 1: Call the greedy algorithm with the modified costs. Note that the total 
        cost returned has to be modified a bit.</code></pre>
<p>The better strategy implemented in R:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="mod-r-functions.html#cb355-1" tabindex="-1"></a><span class="co">#&#39; Calculate a job sequence based on a better (greedy) algorithm</span></span>
<span id="cb355-2"><a href="mod-r-functions.html#cb355-2" tabindex="-1"></a><span class="co">#&#39; </span></span>
<span id="cb355-3"><a href="mod-r-functions.html#cb355-3" tabindex="-1"></a><span class="co">#&#39; @param startup Startup costs.</span></span>
<span id="cb355-4"><a href="mod-r-functions.html#cb355-4" tabindex="-1"></a><span class="co">#&#39; @param setup Setup costs.</span></span>
<span id="cb355-5"><a href="mod-r-functions.html#cb355-5" tabindex="-1"></a><span class="co">#&#39; @return A list with the job sequence and total setup costs.</span></span>
<span id="cb355-6"><a href="mod-r-functions.html#cb355-6" tabindex="-1"></a>better <span class="ot">&lt;-</span> <span class="cf">function</span>(startup, setup) {</span>
<span id="cb355-7"><a href="mod-r-functions.html#cb355-7" tabindex="-1"></a>  jobs <span class="ot">&lt;-</span> <span class="fu">nrow</span>(setup)</span>
<span id="cb355-8"><a href="mod-r-functions.html#cb355-8" tabindex="-1"></a>  min_col_val <span class="ot">&lt;-</span> <span class="fu">apply</span>(<span class="fu">rbind</span>(startup, setup), <span class="dv">2</span>, min, <span class="at">na.rm =</span> T)  </span>
<span id="cb355-9"><a href="mod-r-functions.html#cb355-9" tabindex="-1"></a>  startup <span class="ot">&lt;-</span> startup <span class="sc">-</span> min_col_val</span>
<span id="cb355-10"><a href="mod-r-functions.html#cb355-10" tabindex="-1"></a>  min_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(min_col_val, jobs), <span class="at">ncol =</span> jobs, <span class="at">byrow =</span> T)</span>
<span id="cb355-11"><a href="mod-r-functions.html#cb355-11" tabindex="-1"></a>  setup <span class="ot">&lt;-</span> setup <span class="sc">-</span> min_mat</span>
<span id="cb355-12"><a href="mod-r-functions.html#cb355-12" tabindex="-1"></a>  lst <span class="ot">&lt;-</span> <span class="fu">greedy</span>(startup, setup)</span>
<span id="cb355-13"><a href="mod-r-functions.html#cb355-13" tabindex="-1"></a>  lst<span class="sc">$</span>cost <span class="ot">&lt;-</span> lst<span class="sc">$</span>cost <span class="sc">+</span> <span class="fu">sum</span>(min_col_val)</span>
<span id="cb355-14"><a href="mod-r-functions.html#cb355-14" tabindex="-1"></a>  <span class="fu">return</span>(lst)</span>
<span id="cb355-15"><a href="mod-r-functions.html#cb355-15" tabindex="-1"></a>}</span>
<span id="cb355-16"><a href="mod-r-functions.html#cb355-16" tabindex="-1"></a><span class="fu">better</span>(startup_costs, setup_costs)</span>
<span id="cb355-17"><a href="mod-r-functions.html#cb355-17" tabindex="-1"></a><span class="co">#&gt; $seq</span></span>
<span id="cb355-18"><a href="mod-r-functions.html#cb355-18" tabindex="-1"></a><span class="co">#&gt; [1] 4 1 3 2 5</span></span>
<span id="cb355-19"><a href="mod-r-functions.html#cb355-19" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb355-20"><a href="mod-r-functions.html#cb355-20" tabindex="-1"></a><span class="co">#&gt; $cost</span></span>
<span id="cb355-21"><a href="mod-r-functions.html#cb355-21" tabindex="-1"></a><span class="co">#&gt; [1] 109</span></span></code></pre></div>
<p>First the number of jobs are identified.
Next, we need to find the minimum value in each column. Here we use the <code>apply</code> function. The first argument is the setup matrix with the startup costs added as a row. The second argument is 2 indicating that we should apply the third argument to each column (if was equal 1 then to each row). The third argument is the function to apply to each column (here <code>min</code>). The last argument is an optional argument passed to the <code>min</code> function. With the current values <code>min_col_val</code> equals 17, 12, 22, 29, and 12.
Afterwards the minimum values are subtracted in each column. Note for subtracting the minimum values from the setup cost, we first need to create a matrix with the minimum values (<code>min_mat</code>).
Finally, we call the greedy algorithm with the new costs and correct the returned result with the minimum values.</p>
</div>
<div id="rc-functions" class="section level2 hasAnchor" number="10.7">
<h2><span class="header-section-number">10.7</span> Recap<a href="mod-r-functions.html#rc-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Writing functions is a core activity of an R programmer. It represents the key step of the transition from a user to a programmer. Functions have inputs and outputs. Functions (and control structures) are what makes your code more dynamic.</p>
<p>Functions are often used to encapsulate a sequence of expressions that need to be executed numerous times, perhaps under slightly different conditions. In programming, functional programming is a programming paradigm, a style of how code is written. Rather than repeating the code, functions and control structures allow one to build code in blocks. As a result, your code becomes more structured, more readable and much easier to maintain and debug (find errors).</p>
<p>Functions can be defined using the <code>function()</code> directive.</p>
<p>The named arguments (input values) can have default values. Moreover, R passes arguments by value. That is, an R function cannot change the variable that you input to that function.</p>
<p>A function can be called using its name and its arguments can be specified by name or by position in the argument list.</p>
<p>Functions always return the last expression evaluated in the function body or when you use the <code>return</code> flow control statement (good coding practice).</p>
<p>Scoping refers to the rules R use to look up the value of variables. A function will first look inside the body of the function to identify all the variables. If all variables exist, no further search is required. Otherwise, R will look one level up to see if the variable exists.</p>
<p>Functions can be assigned to R objects just like any other R object.</p>
<p>Document your functions using the Roxygen skeleton!</p>
<div>
You may also have a look at the
<a href="https://bss-osca.github.io/tfa/slides/10_r-functions-slides.html" target="_blank">slides for this module</a>
.
</div>
</div>
<div id="ex-r-functions" class="section level2 hasAnchor" number="10.8">
<h2><span class="header-section-number">10.8</span> Exercises<a href="mod-r-functions.html#ex-r-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Below you will find a set of exercises. Always have a look at the exercises before you meet in your study group and try to solve them yourself. Are you stuck, see the <a href="help.html#help">help page</a>. Some of the solutions to each exercise can be seen by pressing the button at each question. Beware, you will not learn by giving up too early. Put some effort into finding a solution! Always practice using shortcuts in RStudio (see <strong>Tools &gt; Keyboard Shortcuts Help</strong>).</p>
<p>Go to the <a href="https://posit.cloud/spaces/426101/join?access_code=GVlexpHQRCXUAiqRiC9ux_KgoAXUyilsrVtxjaB8">Tools for Analytics</a> workspace and download/export the TM10 project. Open it on your laptop and have a look at the files in the <code>exercises</code> folder which can be used as a starting point.</p>
<div id="ex-r-def-func" class="section level3 hasAnchor" number="10.8.1">
<h3><span class="header-section-number">10.8.1</span> Exercise (defining functions)<a href="mod-r-functions.html#ex-r-def-func" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Solve this exercise using a script file.</em></p>
<div id="solution-GFxUhubGui2dq7x2A1OheU5yYiHnduOJjhQoIudm" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-GFxUhubGui2dq7x2A1OheU5yYiHnduOJjhQoIudm-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-GFxUhubGui2dq7x2A1OheU5yYiHnduOJjhQoIudm-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="mod-r-functions.html#cb356-1" tabindex="-1"></a><span class="co">#&#39; Computes the sum of the integers from 1 to n (inclusive).</span></span>
<span id="cb356-2"><a href="mod-r-functions.html#cb356-2" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb356-3"><a href="mod-r-functions.html#cb356-3" tabindex="-1"></a><span class="co">#&#39; @param n Max value in the sum.</span></span>
<span id="cb356-4"><a href="mod-r-functions.html#cb356-4" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb356-5"><a href="mod-r-functions.html#cb356-5" tabindex="-1"></a><span class="co">#&#39; @return Sum of the integers from 1 to n.</span></span>
<span id="cb356-6"><a href="mod-r-functions.html#cb356-6" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb356-7"><a href="mod-r-functions.html#cb356-7" tabindex="-1"></a><span class="co">#&#39; @examples</span></span>
<span id="cb356-8"><a href="mod-r-functions.html#cb356-8" tabindex="-1"></a><span class="co">#&#39; sum_n(30)</span></span>
<span id="cb356-9"><a href="mod-r-functions.html#cb356-9" tabindex="-1"></a>sum_n <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb356-10"><a href="mod-r-functions.html#cb356-10" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">sum</span>(<span class="dv">1</span><span class="sc">:</span>n))</span>
<span id="cb356-11"><a href="mod-r-functions.html#cb356-11" tabindex="-1"></a>}</span>
<span id="cb356-12"><a href="mod-r-functions.html#cb356-12" tabindex="-1"></a><span class="fu">sum_n</span>(<span class="dv">5000</span>)</span>
<span id="cb356-13"><a href="mod-r-functions.html#cb356-13" tabindex="-1"></a><span class="co">#&gt; [1] 12502500</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-GFxUhubGui2dq7x2A1OheU5yYiHnduOJjhQoIudm">
Solution
</button>
<div id="hint-ifhBblEg5jwffQ8T5kMZNCXNr53AwR" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="hint-ifhBblEg5jwffQ8T5kMZNCXNr53AwR-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="hint-ifhBblEg5jwffQ8T5kMZNCXNr53AwR-title1">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="mod-r-functions.html#cb357-1" tabindex="-1"></a><span class="co">#&#39; Computes the sum of the integers from 1 to n (inclusive).</span></span>
<span id="cb357-2"><a href="mod-r-functions.html#cb357-2" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb357-3"><a href="mod-r-functions.html#cb357-3" tabindex="-1"></a><span class="co">#&#39; @param n Max value in the sum.</span></span>
<span id="cb357-4"><a href="mod-r-functions.html#cb357-4" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb357-5"><a href="mod-r-functions.html#cb357-5" tabindex="-1"></a><span class="co">#&#39; @return Sum of the integers from 1 to n.</span></span>
<span id="cb357-6"><a href="mod-r-functions.html#cb357-6" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb357-7"><a href="mod-r-functions.html#cb357-7" tabindex="-1"></a><span class="co">#&#39; @examples</span></span>
<span id="cb357-8"><a href="mod-r-functions.html#cb357-8" tabindex="-1"></a><span class="co">#&#39; sum_n(30)</span></span>
<span id="cb357-9"><a href="mod-r-functions.html#cb357-9" tabindex="-1"></a>sum_n <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb357-10"><a href="mod-r-functions.html#cb357-10" tabindex="-1"></a>  <span class="fu">return</span>(___)</span>
<span id="cb357-11"><a href="mod-r-functions.html#cb357-11" tabindex="-1"></a>}</span>
<span id="cb357-12"><a href="mod-r-functions.html#cb357-12" tabindex="-1"></a><span class="fu">sum_n</span>(<span class="dv">5000</span>)</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#hint-ifhBblEg5jwffQ8T5kMZNCXNr53AwR">
Hint
</button>
<ol style="list-style-type: decimal">
<li>Create a function <code>sum_n</code> that for any given value, say <span class="math inline">\(n\)</span>, computes the sum of the integers from 1 to n (inclusive). Use the function to determine the sum of integers from 1 to 5000. Document your function too.</li>
</ol>
<div id="solution-f2T2crCHr1mS4uBkQfBs3DGlNH4VRz8p1mE8BDvz" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-f2T2crCHr1mS4uBkQfBs3DGlNH4VRz8p1mE8BDvz-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-f2T2crCHr1mS4uBkQfBs3DGlNH4VRz8p1mE8BDvz-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="mod-r-functions.html#cb358-1" tabindex="-1"></a><span class="co">#&#39; Computes the sum S_n = 1^2 + 2^2 + 3^2 + ... + n^2</span></span>
<span id="cb358-2"><a href="mod-r-functions.html#cb358-2" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb358-3"><a href="mod-r-functions.html#cb358-3" tabindex="-1"></a><span class="co">#&#39; @param n Max input in sum.</span></span>
<span id="cb358-4"><a href="mod-r-functions.html#cb358-4" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb358-5"><a href="mod-r-functions.html#cb358-5" tabindex="-1"></a><span class="co">#&#39; @return S_n</span></span>
<span id="cb358-6"><a href="mod-r-functions.html#cb358-6" tabindex="-1"></a>compute_s_n <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb358-7"><a href="mod-r-functions.html#cb358-7" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">sum</span>((<span class="dv">1</span><span class="sc">:</span>n)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb358-8"><a href="mod-r-functions.html#cb358-8" tabindex="-1"></a>}</span>
<span id="cb358-9"><a href="mod-r-functions.html#cb358-9" tabindex="-1"></a><span class="fu">compute_s_n</span>(<span class="dv">10</span>)</span>
<span id="cb358-10"><a href="mod-r-functions.html#cb358-10" tabindex="-1"></a><span class="co">#&gt; [1] 385</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-f2T2crCHr1mS4uBkQfBs3DGlNH4VRz8p1mE8BDvz">
Solution
</button>
<ol start="2" style="list-style-type: decimal">
<li>Write a function <code>compute_s_n</code> that for any given <span class="math inline">\(n\)</span> computes the sum <span class="math inline">\(S_n = 1^2 + 2^2 + 3^2 + \dots + n^2\)</span>. Report the value of the sum when <span class="math inline">\(n=10\)</span>.</li>
</ol>
<div id="solution-J8eaLoHq8r4QgCwNcBejUrpyfd2B2qQo9Pi3Kmqr" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-J8eaLoHq8r4QgCwNcBejUrpyfd2B2qQo9Pi3Kmqr-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-J8eaLoHq8r4QgCwNcBejUrpyfd2B2qQo9Pi3Kmqr-title1">
Solution 1
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="mod-r-functions.html#cb359-1" tabindex="-1"></a>s_n <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&#39;numeric&#39;</span>, <span class="dv">25</span>)</span>
<span id="cb359-2"><a href="mod-r-functions.html#cb359-2" tabindex="-1"></a><span class="cf">for</span> (n <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>) {</span>
<span id="cb359-3"><a href="mod-r-functions.html#cb359-3" tabindex="-1"></a>  s_n[n] <span class="ot">&lt;-</span> <span class="fu">compute_s_n</span>(n)</span>
<span id="cb359-4"><a href="mod-r-functions.html#cb359-4" tabindex="-1"></a>}</span>
<span id="cb359-5"><a href="mod-r-functions.html#cb359-5" tabindex="-1"></a>s_n</span>
<span id="cb359-6"><a href="mod-r-functions.html#cb359-6" tabindex="-1"></a><span class="co">#&gt;  [1]    1    5   14   30   55   91  140  204  285  385  506  650  819 1015 1240 1496 1785 2109 2470</span></span>
<span id="cb359-7"><a href="mod-r-functions.html#cb359-7" tabindex="-1"></a><span class="co">#&gt; [20] 2870 3311 3795 4324 4900 5525</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-J8eaLoHq8r4QgCwNcBejUrpyfd2B2qQo9Pi3Kmqr">
Solution 1
</button>
<div id="hint-xNwhQODkRS5MtX1O7HiNdUoaAw35qQ" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="hint-xNwhQODkRS5MtX1O7HiNdUoaAw35qQ-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="hint-xNwhQODkRS5MtX1O7HiNdUoaAw35qQ-title1">
Hint 1
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="mod-r-functions.html#cb360-1" tabindex="-1"></a>s_n <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&#39;numeric&#39;</span>, <span class="dv">25</span>)</span>
<span id="cb360-2"><a href="mod-r-functions.html#cb360-2" tabindex="-1"></a><span class="cf">for</span> (n <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>) {</span>
<span id="cb360-3"><a href="mod-r-functions.html#cb360-3" tabindex="-1"></a>  s_n[n] <span class="ot">&lt;-</span> ___</span>
<span id="cb360-4"><a href="mod-r-functions.html#cb360-4" tabindex="-1"></a>}</span>
<span id="cb360-5"><a href="mod-r-functions.html#cb360-5" tabindex="-1"></a>s_n</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#hint-xNwhQODkRS5MtX1O7HiNdUoaAw35qQ">
Hint 1
</button>
<div id="solution-ijzx8f2UnNweQpnQKZradlgr5bETHuOZ5wjTBjc3" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-ijzx8f2UnNweQpnQKZradlgr5bETHuOZ5wjTBjc3-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-ijzx8f2UnNweQpnQKZradlgr5bETHuOZ5wjTBjc3-title1">
Solution 2
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="mod-r-functions.html#cb361-1" tabindex="-1"></a>compute_s_n_alt <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb361-2"><a href="mod-r-functions.html#cb361-2" tabindex="-1"></a>  <span class="fu">return</span>(n<span class="sc">*</span>(n<span class="sc">+</span><span class="dv">1</span>)<span class="sc">*</span>(<span class="dv">2</span><span class="sc">*</span>n<span class="sc">+</span><span class="dv">1</span>)<span class="sc">/</span><span class="dv">6</span>)</span>
<span id="cb361-3"><a href="mod-r-functions.html#cb361-3" tabindex="-1"></a>}</span>
<span id="cb361-4"><a href="mod-r-functions.html#cb361-4" tabindex="-1"></a><span class="cf">for</span> (n <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>) {</span>
<span id="cb361-5"><a href="mod-r-functions.html#cb361-5" tabindex="-1"></a>  <span class="cf">if</span> (s_n[n] <span class="sc">!=</span> <span class="fu">compute_s_n_alt</span>(n)) {</span>
<span id="cb361-6"><a href="mod-r-functions.html#cb361-6" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&#39;Error!&#39;</span>)</span>
<span id="cb361-7"><a href="mod-r-functions.html#cb361-7" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb361-8"><a href="mod-r-functions.html#cb361-8" tabindex="-1"></a>  }</span>
<span id="cb361-9"><a href="mod-r-functions.html#cb361-9" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-ijzx8f2UnNweQpnQKZradlgr5bETHuOZ5wjTBjc3">
Solution 2
</button>
<div id="hint-3SBUyDi9Wp7oF6Afg8y9whZFLqvVth" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="hint-3SBUyDi9Wp7oF6Afg8y9whZFLqvVth-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="hint-3SBUyDi9Wp7oF6Afg8y9whZFLqvVth-title1">
Hint 2
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="mod-r-functions.html#cb362-1" tabindex="-1"></a>compute_s_n_alt <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb362-2"><a href="mod-r-functions.html#cb362-2" tabindex="-1"></a>  <span class="fu">return</span>(n<span class="sc">*</span>(n<span class="sc">+</span><span class="dv">1</span>)<span class="sc">*</span>___)</span>
<span id="cb362-3"><a href="mod-r-functions.html#cb362-3" tabindex="-1"></a>}</span>
<span id="cb362-4"><a href="mod-r-functions.html#cb362-4" tabindex="-1"></a><span class="cf">for</span> (n <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>) {</span>
<span id="cb362-5"><a href="mod-r-functions.html#cb362-5" tabindex="-1"></a>  <span class="cf">if</span> (s_n[n] <span class="sc">!=</span> ___) {</span>
<span id="cb362-6"><a href="mod-r-functions.html#cb362-6" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&#39;Error!&#39;</span>)</span>
<span id="cb362-7"><a href="mod-r-functions.html#cb362-7" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb362-8"><a href="mod-r-functions.html#cb362-8" tabindex="-1"></a>  }</span>
<span id="cb362-9"><a href="mod-r-functions.html#cb362-9" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#hint-3SBUyDi9Wp7oF6Afg8y9whZFLqvVth">
Hint 2
</button>
<ol start="3" style="list-style-type: decimal">
<li>Define an empty numerical vector <code>s_n</code> of size 25 using <code>s_n &lt;- vector("numeric", 25)</code> and store in the results of <span class="math inline">\(S_1, S_2, \dots S_{25}\)</span> using a for-loop.
Confirm that the formula for the sum is <span class="math inline">\(S_n= n(n+1)(2n+1)/6\)</span> for <span class="math inline">\(n = 1, \ldots, 25\)</span>.</li>
</ol>
<div id="solution-QIx7goDaAPEWfuKFJE7Gv3VnpZEa8T5IfCOnE4mf" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-QIx7goDaAPEWfuKFJE7Gv3VnpZEa8T5IfCOnE4mf-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-QIx7goDaAPEWfuKFJE7Gv3VnpZEa8T5IfCOnE4mf-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="mod-r-functions.html#cb363-1" tabindex="-1"></a>biggest <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb363-2"><a href="mod-r-functions.html#cb363-2" tabindex="-1"></a>  <span class="cf">if</span> (a <span class="sc">&gt;</span> b) <span class="fu">return</span>(<span class="dv">1</span>)</span>
<span id="cb363-3"><a href="mod-r-functions.html#cb363-3" tabindex="-1"></a>  <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb363-4"><a href="mod-r-functions.html#cb363-4" tabindex="-1"></a>}</span>
<span id="cb363-5"><a href="mod-r-functions.html#cb363-5" tabindex="-1"></a><span class="fu">biggest</span>(<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb363-6"><a href="mod-r-functions.html#cb363-6" tabindex="-1"></a><span class="co">#&gt; [1] 0</span></span>
<span id="cb363-7"><a href="mod-r-functions.html#cb363-7" tabindex="-1"></a><span class="fu">biggest</span>(<span class="dv">3</span>,<span class="dv">3</span>)</span>
<span id="cb363-8"><a href="mod-r-functions.html#cb363-8" tabindex="-1"></a><span class="co">#&gt; [1] 0</span></span>
<span id="cb363-9"><a href="mod-r-functions.html#cb363-9" tabindex="-1"></a><span class="fu">biggest</span>(<span class="dv">8</span>,<span class="dv">2</span>)</span>
<span id="cb363-10"><a href="mod-r-functions.html#cb363-10" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-QIx7goDaAPEWfuKFJE7Gv3VnpZEa8T5IfCOnE4mf">
Solution
</button>
<div id="hint-VDBb2EpI0x5kp0qYLKd7JalYgNuyl0" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="hint-VDBb2EpI0x5kp0qYLKd7JalYgNuyl0-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="hint-VDBb2EpI0x5kp0qYLKd7JalYgNuyl0-title1">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="mod-r-functions.html#cb364-1" tabindex="-1"></a>biggest <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb364-2"><a href="mod-r-functions.html#cb364-2" tabindex="-1"></a>  <span class="cf">if</span> (a <span class="sc">&gt;</span> b) ___</span>
<span id="cb364-3"><a href="mod-r-functions.html#cb364-3" tabindex="-1"></a>  <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb364-4"><a href="mod-r-functions.html#cb364-4" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#hint-VDBb2EpI0x5kp0qYLKd7JalYgNuyl0">
Hint
</button>
<ol start="4" style="list-style-type: decimal">
<li>Write a function <code>biggest</code> which takes two integers as arguments. Let the
function return 1 if the first argument is larger than the second and return 0
otherwise.</li>
</ol>
<div id="solution-WnCNXkKKQHc2bP2zcqOxNo0s4oagiHfIZ3LUWoVq" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-WnCNXkKKQHc2bP2zcqOxNo0s4oagiHfIZ3LUWoVq-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-WnCNXkKKQHc2bP2zcqOxNo0s4oagiHfIZ3LUWoVq-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="mod-r-functions.html#cb365-1" tabindex="-1"></a>shipping_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total) {</span>
<span id="cb365-2"><a href="mod-r-functions.html#cb365-2" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fl">0.1</span> <span class="sc">*</span> total)</span>
<span id="cb365-3"><a href="mod-r-functions.html#cb365-3" tabindex="-1"></a>}</span>
<span id="cb365-4"><a href="mod-r-functions.html#cb365-4" tabindex="-1"></a><span class="fu">shipping_cost</span>(<span class="dv">450</span>)</span>
<span id="cb365-5"><a href="mod-r-functions.html#cb365-5" tabindex="-1"></a><span class="co">#&gt; [1] 45</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-WnCNXkKKQHc2bP2zcqOxNo0s4oagiHfIZ3LUWoVq">
Solution
</button>
<div id="hint-aXcIZzvlqvbMkU0fPx8NtnV1FIf6xr" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="hint-aXcIZzvlqvbMkU0fPx8NtnV1FIf6xr-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="hint-aXcIZzvlqvbMkU0fPx8NtnV1FIf6xr-title1">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="mod-r-functions.html#cb366-1" tabindex="-1"></a>shipping_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total) {</span>
<span id="cb366-2"><a href="mod-r-functions.html#cb366-2" tabindex="-1"></a>  <span class="fu">return</span>(___)</span>
<span id="cb366-3"><a href="mod-r-functions.html#cb366-3" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#hint-aXcIZzvlqvbMkU0fPx8NtnV1FIf6xr">
Hint
</button>
<ol start="5" style="list-style-type: decimal">
<li>Write a function that returns the shipping cost as 10% of the total cost of an
order (input argument).</li>
</ol>
<div id="solution-HQLLIuHroBEfT69JbwQv6rGHA167Cp0Nu0JQYvWj" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-HQLLIuHroBEfT69JbwQv6rGHA167Cp0Nu0JQYvWj-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-HQLLIuHroBEfT69JbwQv6rGHA167Cp0Nu0JQYvWj-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="mod-r-functions.html#cb367-1" tabindex="-1"></a>shipping_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total, <span class="at">pct =</span> <span class="fl">0.1</span>) {</span>
<span id="cb367-2"><a href="mod-r-functions.html#cb367-2" tabindex="-1"></a>  <span class="fu">return</span>(pct <span class="sc">*</span> total)</span>
<span id="cb367-3"><a href="mod-r-functions.html#cb367-3" tabindex="-1"></a>}</span>
<span id="cb367-4"><a href="mod-r-functions.html#cb367-4" tabindex="-1"></a><span class="fu">shipping_cost</span>(<span class="dv">450</span>)</span>
<span id="cb367-5"><a href="mod-r-functions.html#cb367-5" tabindex="-1"></a><span class="co">#&gt; [1] 45</span></span>
<span id="cb367-6"><a href="mod-r-functions.html#cb367-6" tabindex="-1"></a><span class="fu">shipping_cost</span>(<span class="dv">450</span>, <span class="at">pct =</span> <span class="fl">0.2</span>)</span>
<span id="cb367-7"><a href="mod-r-functions.html#cb367-7" tabindex="-1"></a><span class="co">#&gt; [1] 90</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-HQLLIuHroBEfT69JbwQv6rGHA167Cp0Nu0JQYvWj">
Solution
</button>
<div id="hint-cCV3mCrVFo41aqSVCiX3pFWK6qcq7f" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="hint-cCV3mCrVFo41aqSVCiX3pFWK6qcq7f-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="hint-cCV3mCrVFo41aqSVCiX3pFWK6qcq7f-title1">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="mod-r-functions.html#cb368-1" tabindex="-1"></a>shipping_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total, <span class="at">pct =</span> ___) {</span>
<span id="cb368-2"><a href="mod-r-functions.html#cb368-2" tabindex="-1"></a>  ___</span>
<span id="cb368-3"><a href="mod-r-functions.html#cb368-3" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#hint-cCV3mCrVFo41aqSVCiX3pFWK6qcq7f">
Hint
</button>
<ol start="6" style="list-style-type: decimal">
<li>Given Question 5, rewrite the function so the percentage is an input argument with a default of 10%.</li>
</ol>
<div id="solution-bwZIvqQUlFooPu4oUIcJeuZdPnrMUtSCfjeCx0t5" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-bwZIvqQUlFooPu4oUIcJeuZdPnrMUtSCfjeCx0t5-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-bwZIvqQUlFooPu4oUIcJeuZdPnrMUtSCfjeCx0t5-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="mod-r-functions.html#cb369-1" tabindex="-1"></a>shipping_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total) {</span>
<span id="cb369-2"><a href="mod-r-functions.html#cb369-2" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fl">0.1</span> <span class="sc">*</span> total)</span>
<span id="cb369-3"><a href="mod-r-functions.html#cb369-3" tabindex="-1"></a>}</span>
<span id="cb369-4"><a href="mod-r-functions.html#cb369-4" tabindex="-1"></a></span>
<span id="cb369-5"><a href="mod-r-functions.html#cb369-5" tabindex="-1"></a>gasoline_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total) {</span>
<span id="cb369-6"><a href="mod-r-functions.html#cb369-6" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">shipping_cost</span>(total) <span class="sc">*</span> <span class="fl">0.5</span>)</span>
<span id="cb369-7"><a href="mod-r-functions.html#cb369-7" tabindex="-1"></a>}</span>
<span id="cb369-8"><a href="mod-r-functions.html#cb369-8" tabindex="-1"></a><span class="fu">gasoline_cost</span>(<span class="dv">450</span>)</span>
<span id="cb369-9"><a href="mod-r-functions.html#cb369-9" tabindex="-1"></a><span class="co">#&gt; [1] 22.5</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-bwZIvqQUlFooPu4oUIcJeuZdPnrMUtSCfjeCx0t5">
Solution
</button>
<div id="hint-pYboG286AxCKggHIQNuXbVVQDJE0Dy" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="hint-pYboG286AxCKggHIQNuXbVVQDJE0Dy-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="hint-pYboG286AxCKggHIQNuXbVVQDJE0Dy-title1">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="mod-r-functions.html#cb370-1" tabindex="-1"></a>gasoline_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total) {</span>
<span id="cb370-2"><a href="mod-r-functions.html#cb370-2" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">shipping_cost</span>(___) <span class="sc">*</span> ___)</span>
<span id="cb370-3"><a href="mod-r-functions.html#cb370-3" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#hint-pYboG286AxCKggHIQNuXbVVQDJE0Dy">
Hint
</button>
<ol start="7" style="list-style-type: decimal">
<li>Given Question 5, the shipping cost can be split into parts. One part is gasoline which is 50% of the shipping cost. Write a function that has total cost as input argument and calculate the gasoline cost and use the function defined in Question 5 inside it.</li>
</ol>
<div id="solution-QxF8YQrucqHt88ZzX7AmeYkLOLc9FwzX2biaWL47" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-QxF8YQrucqHt88ZzX7AmeYkLOLc9FwzX2biaWL47-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-QxF8YQrucqHt88ZzX7AmeYkLOLc9FwzX2biaWL47-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="mod-r-functions.html#cb371-1" tabindex="-1"></a>shipping_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total, <span class="at">pct =</span> <span class="fl">0.1</span>) {</span>
<span id="cb371-2"><a href="mod-r-functions.html#cb371-2" tabindex="-1"></a>  <span class="fu">return</span>(pct <span class="sc">*</span> total)</span>
<span id="cb371-3"><a href="mod-r-functions.html#cb371-3" tabindex="-1"></a>}</span>
<span id="cb371-4"><a href="mod-r-functions.html#cb371-4" tabindex="-1"></a></span>
<span id="cb371-5"><a href="mod-r-functions.html#cb371-5" tabindex="-1"></a>gasoline_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total, ...) {</span>
<span id="cb371-6"><a href="mod-r-functions.html#cb371-6" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">shipping_cost</span>(total, ...) <span class="sc">*</span> <span class="fl">0.5</span>)</span>
<span id="cb371-7"><a href="mod-r-functions.html#cb371-7" tabindex="-1"></a>}</span>
<span id="cb371-8"><a href="mod-r-functions.html#cb371-8" tabindex="-1"></a><span class="fu">gasoline_cost</span>(<span class="dv">450</span>)</span>
<span id="cb371-9"><a href="mod-r-functions.html#cb371-9" tabindex="-1"></a><span class="co">#&gt; [1] 22.5</span></span>
<span id="cb371-10"><a href="mod-r-functions.html#cb371-10" tabindex="-1"></a><span class="fu">gasoline_cost</span>(<span class="dv">450</span>, <span class="at">pct =</span> <span class="fl">0.2</span>)</span>
<span id="cb371-11"><a href="mod-r-functions.html#cb371-11" tabindex="-1"></a><span class="co">#&gt; [1] 45</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-QxF8YQrucqHt88ZzX7AmeYkLOLc9FwzX2biaWL47">
Solution
</button>
<div id="hint-MbE1J4F8M8ZXAwc4BfuoR9ATOnlOdP" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="hint-MbE1J4F8M8ZXAwc4BfuoR9ATOnlOdP-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="hint-MbE1J4F8M8ZXAwc4BfuoR9ATOnlOdP-title1">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="mod-r-functions.html#cb372-1" tabindex="-1"></a>gasoline_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total, ...) {</span>
<span id="cb372-2"><a href="mod-r-functions.html#cb372-2" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">shipping_cost</span>(___) <span class="sc">*</span> ___)</span>
<span id="cb372-3"><a href="mod-r-functions.html#cb372-3" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#hint-MbE1J4F8M8ZXAwc4BfuoR9ATOnlOdP">
Hint
</button>
<ol start="8" style="list-style-type: decimal">
<li>Given Question 6, the shipping cost can be split into parts. One part is gasoline which is 50% of the shipping cost. Write a function that has total cost a input argument and calculate the gasoline cost and use the function defined in Question 6 inside it. Hint: Use the <code>...</code> argument to pass arguments to <code>shipping_cost</code>.</li>
</ol>
<div id="solution-McxTcHPRHysohB36qMmudc4EPoNRZ80gpw3fNZ8F" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-McxTcHPRHysohB36qMmudc4EPoNRZ80gpw3fNZ8F-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-McxTcHPRHysohB36qMmudc4EPoNRZ80gpw3fNZ8F-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="mod-r-functions.html#cb373-1" tabindex="-1"></a>shipping_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total, <span class="at">pct =</span> <span class="fl">0.1</span>) {</span>
<span id="cb373-2"><a href="mod-r-functions.html#cb373-2" tabindex="-1"></a>  <span class="fu">return</span>(pct <span class="sc">*</span> total)</span>
<span id="cb373-3"><a href="mod-r-functions.html#cb373-3" tabindex="-1"></a>}</span>
<span id="cb373-4"><a href="mod-r-functions.html#cb373-4" tabindex="-1"></a></span>
<span id="cb373-5"><a href="mod-r-functions.html#cb373-5" tabindex="-1"></a>gasoline_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total, ...) {</span>
<span id="cb373-6"><a href="mod-r-functions.html#cb373-6" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">shipping_cost</span>(total, ...) <span class="sc">*</span> <span class="fl">0.5</span>)</span>
<span id="cb373-7"><a href="mod-r-functions.html#cb373-7" tabindex="-1"></a>}</span>
<span id="cb373-8"><a href="mod-r-functions.html#cb373-8" tabindex="-1"></a></span>
<span id="cb373-9"><a href="mod-r-functions.html#cb373-9" tabindex="-1"></a>costs <span class="ot">&lt;-</span> <span class="cf">function</span>(total, ...) {</span>
<span id="cb373-10"><a href="mod-r-functions.html#cb373-10" tabindex="-1"></a>  lst <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">total =</span> total, <span class="at">shipping =</span> <span class="fu">shipping_cost</span>(total, ...), <span class="at">gasoline =</span> <span class="fu">gasoline_cost</span>(total, ...))</span>
<span id="cb373-11"><a href="mod-r-functions.html#cb373-11" tabindex="-1"></a>  <span class="fu">return</span>(lst)</span>
<span id="cb373-12"><a href="mod-r-functions.html#cb373-12" tabindex="-1"></a>}</span>
<span id="cb373-13"><a href="mod-r-functions.html#cb373-13" tabindex="-1"></a><span class="fu">costs</span>(<span class="dv">450</span>)</span>
<span id="cb373-14"><a href="mod-r-functions.html#cb373-14" tabindex="-1"></a><span class="co">#&gt; $total</span></span>
<span id="cb373-15"><a href="mod-r-functions.html#cb373-15" tabindex="-1"></a><span class="co">#&gt; [1] 450</span></span>
<span id="cb373-16"><a href="mod-r-functions.html#cb373-16" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb373-17"><a href="mod-r-functions.html#cb373-17" tabindex="-1"></a><span class="co">#&gt; $shipping</span></span>
<span id="cb373-18"><a href="mod-r-functions.html#cb373-18" tabindex="-1"></a><span class="co">#&gt; [1] 45</span></span>
<span id="cb373-19"><a href="mod-r-functions.html#cb373-19" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb373-20"><a href="mod-r-functions.html#cb373-20" tabindex="-1"></a><span class="co">#&gt; $gasoline</span></span>
<span id="cb373-21"><a href="mod-r-functions.html#cb373-21" tabindex="-1"></a><span class="co">#&gt; [1] 22.5</span></span>
<span id="cb373-22"><a href="mod-r-functions.html#cb373-22" tabindex="-1"></a><span class="fu">costs</span>(<span class="dv">450</span>, <span class="at">pct =</span> <span class="fl">0.15</span>)</span>
<span id="cb373-23"><a href="mod-r-functions.html#cb373-23" tabindex="-1"></a><span class="co">#&gt; $total</span></span>
<span id="cb373-24"><a href="mod-r-functions.html#cb373-24" tabindex="-1"></a><span class="co">#&gt; [1] 450</span></span>
<span id="cb373-25"><a href="mod-r-functions.html#cb373-25" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb373-26"><a href="mod-r-functions.html#cb373-26" tabindex="-1"></a><span class="co">#&gt; $shipping</span></span>
<span id="cb373-27"><a href="mod-r-functions.html#cb373-27" tabindex="-1"></a><span class="co">#&gt; [1] 67.5</span></span>
<span id="cb373-28"><a href="mod-r-functions.html#cb373-28" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb373-29"><a href="mod-r-functions.html#cb373-29" tabindex="-1"></a><span class="co">#&gt; $gasoline</span></span>
<span id="cb373-30"><a href="mod-r-functions.html#cb373-30" tabindex="-1"></a><span class="co">#&gt; [1] 33.8</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-McxTcHPRHysohB36qMmudc4EPoNRZ80gpw3fNZ8F">
Solution
</button>
<div id="hint-JiB8Z3QTSUjzq6rZgmOqBU7EuTXyyg" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="hint-JiB8Z3QTSUjzq6rZgmOqBU7EuTXyyg-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="hint-JiB8Z3QTSUjzq6rZgmOqBU7EuTXyyg-title1">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="mod-r-functions.html#cb374-1" tabindex="-1"></a>shipping_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total, <span class="at">pct =</span> <span class="fl">0.1</span>) {</span>
<span id="cb374-2"><a href="mod-r-functions.html#cb374-2" tabindex="-1"></a>  <span class="fu">return</span>(pct <span class="sc">*</span> total)</span>
<span id="cb374-3"><a href="mod-r-functions.html#cb374-3" tabindex="-1"></a>}</span>
<span id="cb374-4"><a href="mod-r-functions.html#cb374-4" tabindex="-1"></a></span>
<span id="cb374-5"><a href="mod-r-functions.html#cb374-5" tabindex="-1"></a>gasoline_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total, ...) {</span>
<span id="cb374-6"><a href="mod-r-functions.html#cb374-6" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">shipping_cost</span>(total, ...) <span class="sc">*</span> <span class="fl">0.5</span>)</span>
<span id="cb374-7"><a href="mod-r-functions.html#cb374-7" tabindex="-1"></a>}</span>
<span id="cb374-8"><a href="mod-r-functions.html#cb374-8" tabindex="-1"></a></span>
<span id="cb374-9"><a href="mod-r-functions.html#cb374-9" tabindex="-1"></a>costs <span class="ot">&lt;-</span> <span class="cf">function</span>(total, ...) {</span>
<span id="cb374-10"><a href="mod-r-functions.html#cb374-10" tabindex="-1"></a>  lst <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">total =</span> ___, <span class="at">shipping =</span> ___, <span class="at">gasoline =</span> ___)</span>
<span id="cb374-11"><a href="mod-r-functions.html#cb374-11" tabindex="-1"></a>  <span class="fu">return</span>(lst)</span>
<span id="cb374-12"><a href="mod-r-functions.html#cb374-12" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#hint-JiB8Z3QTSUjzq6rZgmOqBU7EuTXyyg">
Hint
</button>
<ol start="9" style="list-style-type: decimal">
<li>Given Question 8, write a function <code>costs</code> that, given total cost, returns the total cost, shipping cost and gasoline cost.</li>
</ol>
</div>
<div id="ex-r-euclidean-distances" class="section level3 hasAnchor" number="10.8.2">
<h3><span class="header-section-number">10.8.2</span> Exercise (euclidean distances)<a href="mod-r-functions.html#ex-r-euclidean-distances" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>This exercise is a slightly modified version an exam assignment (exam 2021-A1).</em></p>
<p>The euclidean distance between two points <span class="math inline">\(p = (p_1,p_2)\)</span> and <span class="math inline">\(q = (q_1,q_2)\)</span> can be calculated using formula <span class="math display">\[ d(p,q) = \sqrt{(p_1-q_1)^2 + (p_2-q_2)^2}.\]</span></p>
<!-- Q1 -->
<div id="solution-m1jvRhoUqU1RTbRJfbyAyZjrehzql85WBjU8qwH9" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-m1jvRhoUqU1RTbRJfbyAyZjrehzql85WBjU8qwH9-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-m1jvRhoUqU1RTbRJfbyAyZjrehzql85WBjU8qwH9-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="mod-r-functions.html#cb375-1" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">10</span>)</span>
<span id="cb375-2"><a href="mod-r-functions.html#cb375-2" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">3</span>)</span>
<span id="cb375-3"><a href="mod-r-functions.html#cb375-3" tabindex="-1"></a><span class="fu">sqrt</span>((p[<span class="dv">1</span>] <span class="sc">-</span> q[<span class="dv">1</span>])<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> (p[<span class="dv">2</span>] <span class="sc">-</span> q[<span class="dv">2</span>])<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb375-4"><a href="mod-r-functions.html#cb375-4" tabindex="-1"></a><span class="co">#&gt; [1] 9.22</span></span></code></pre></div>
<p>
The distance is 9.22.
</p>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-m1jvRhoUqU1RTbRJfbyAyZjrehzql85WBjU8qwH9">
Solution
</button>
<ol style="list-style-type: decimal">
<li>Calculate the distance between points <span class="math inline">\(p = (10,10)\)</span> and <span class="math inline">\(q = (4,3)\)</span> using the formula.</li>
</ol>
<!-- Q2 -->
<div id="solution-YcYOPufx9Y6cFTTptZwIcceEPAWa4jcfIMdxMCFU" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-YcYOPufx9Y6cFTTptZwIcceEPAWa4jcfIMdxMCFU-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-YcYOPufx9Y6cFTTptZwIcceEPAWa4jcfIMdxMCFU-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="mod-r-functions.html#cb376-1" tabindex="-1"></a>d_mat <span class="ot">=</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="fu">nrow</span>(p_mat), <span class="at">ncol =</span> <span class="fu">nrow</span>(p_mat))</span>
<span id="cb376-2"><a href="mod-r-functions.html#cb376-2" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(d_mat)) {</span>
<span id="cb376-3"><a href="mod-r-functions.html#cb376-3" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(d_mat)) {</span>
<span id="cb376-4"><a href="mod-r-functions.html#cb376-4" tabindex="-1"></a>    <span class="co"># if (i&gt;j) {d_mat[i,j] &lt;- d_mat[j,i]; next}   # assume symmetric distances</span></span>
<span id="cb376-5"><a href="mod-r-functions.html#cb376-5" tabindex="-1"></a>    <span class="co"># if (!is.na(d_mat[i,j])) next          # value already calculated </span></span>
<span id="cb376-6"><a href="mod-r-functions.html#cb376-6" tabindex="-1"></a>    <span class="cf">if</span> (i<span class="sc">==</span>j) {d_mat[i,j] <span class="ot">&lt;-</span> <span class="dv">0</span>; <span class="cf">next</span>}</span>
<span id="cb376-7"><a href="mod-r-functions.html#cb376-7" tabindex="-1"></a>    d_mat[i,j] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((p_mat[i,<span class="dv">1</span>] <span class="sc">-</span> p_mat[j,<span class="dv">1</span>])<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> (p_mat[i,<span class="dv">2</span>] <span class="sc">-</span> p_mat[j,<span class="dv">2</span>])<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb376-8"><a href="mod-r-functions.html#cb376-8" tabindex="-1"></a>  }</span>
<span id="cb376-9"><a href="mod-r-functions.html#cb376-9" tabindex="-1"></a>}</span>
<span id="cb376-10"><a href="mod-r-functions.html#cb376-10" tabindex="-1"></a>d_mat</span>
<span id="cb376-11"><a href="mod-r-functions.html#cb376-11" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></span>
<span id="cb376-12"><a href="mod-r-functions.html#cb376-12" tabindex="-1"></a><span class="co">#&gt; [1,] 0.00 9.22 8.25 2.83</span></span>
<span id="cb376-13"><a href="mod-r-functions.html#cb376-13" tabindex="-1"></a><span class="co">#&gt; [2,] 9.22 0.00 8.06 6.40</span></span>
<span id="cb376-14"><a href="mod-r-functions.html#cb376-14" tabindex="-1"></a><span class="co">#&gt; [3,] 8.25 8.06 0.00 7.21</span></span>
<span id="cb376-15"><a href="mod-r-functions.html#cb376-15" tabindex="-1"></a><span class="co">#&gt; [4,] 2.83 6.40 7.21 0.00</span></span></code></pre></div>
<p>
The distance matrix is given above.
</p>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-YcYOPufx9Y6cFTTptZwIcceEPAWa4jcfIMdxMCFU">
Solution
</button>
<ol start="2" style="list-style-type: decimal">
<li><p>Consider 4 points in a matrix (one in each row):</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="mod-r-functions.html#cb377-1" tabindex="-1"></a>p_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">12</span>), <span class="at">nrow =</span> <span class="dv">4</span>)</span>
<span id="cb377-2"><a href="mod-r-functions.html#cb377-2" tabindex="-1"></a>p_mat</span>
<span id="cb377-3"><a href="mod-r-functions.html#cb377-3" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2]</span></span>
<span id="cb377-4"><a href="mod-r-functions.html#cb377-4" tabindex="-1"></a><span class="co">#&gt; [1,]    0   10</span></span>
<span id="cb377-5"><a href="mod-r-functions.html#cb377-5" tabindex="-1"></a><span class="co">#&gt; [2,]    7   16</span></span>
<span id="cb377-6"><a href="mod-r-functions.html#cb377-6" tabindex="-1"></a><span class="co">#&gt; [3,]    8    8</span></span>
<span id="cb377-7"><a href="mod-r-functions.html#cb377-7" tabindex="-1"></a><span class="co">#&gt; [4,]    2   12</span></span></code></pre></div>
<p>The distance matrix of <code>p_mat</code> is a 4 times 4 matrix where entry (i,j) contains the distance from the point in row <code>i</code> to the point in row <code>j</code>.</p>
<p>Calculate the distance matrix of <code>p_mat</code>.</p></li>
</ol>
<!-- Q3 -->
<div id="solution-rTaUfg66vQYxCDcpo95mxcRfrVWlMw2K8KTknP1w" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-rTaUfg66vQYxCDcpo95mxcRfrVWlMw2K8KTknP1w-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-rTaUfg66vQYxCDcpo95mxcRfrVWlMw2K8KTknP1w-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="mod-r-functions.html#cb378-1" tabindex="-1"></a>calc_distances <span class="ot">&lt;-</span> <span class="cf">function</span>(p_mat, <span class="at">from =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(p_mat), <span class="at">to =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(p_mat)) {</span>
<span id="cb378-2"><a href="mod-r-functions.html#cb378-2" tabindex="-1"></a>  d_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="fu">nrow</span>(p_mat), <span class="at">ncol =</span> <span class="fu">nrow</span>(p_mat))</span>
<span id="cb378-3"><a href="mod-r-functions.html#cb378-3" tabindex="-1"></a>  ite <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(<span class="at">from =</span> from, <span class="at">to =</span> to)</span>
<span id="cb378-4"><a href="mod-r-functions.html#cb378-4" tabindex="-1"></a>  <span class="cf">for</span> (r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(ite)) {</span>
<span id="cb378-5"><a href="mod-r-functions.html#cb378-5" tabindex="-1"></a>    i <span class="ot">&lt;-</span> ite<span class="sc">$</span>from[r]</span>
<span id="cb378-6"><a href="mod-r-functions.html#cb378-6" tabindex="-1"></a>    j <span class="ot">&lt;-</span> ite<span class="sc">$</span>to[r]</span>
<span id="cb378-7"><a href="mod-r-functions.html#cb378-7" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.na</span>(d_mat[i,j])) <span class="cf">next</span>          <span class="co"># value already calculated </span></span>
<span id="cb378-8"><a href="mod-r-functions.html#cb378-8" tabindex="-1"></a>    <span class="cf">if</span> (i<span class="sc">==</span>j) {d_mat[i,j] <span class="ot">&lt;-</span> <span class="dv">0</span>; <span class="cf">next</span>}</span>
<span id="cb378-9"><a href="mod-r-functions.html#cb378-9" tabindex="-1"></a>    d_mat[i,j] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((p_mat[i,<span class="dv">1</span>] <span class="sc">-</span> p_mat[j,<span class="dv">1</span>])<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> (p_mat[i,<span class="dv">2</span>] <span class="sc">-</span> p_mat[j,<span class="dv">2</span>])<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb378-10"><a href="mod-r-functions.html#cb378-10" tabindex="-1"></a>  }</span>
<span id="cb378-11"><a href="mod-r-functions.html#cb378-11" tabindex="-1"></a>  <span class="fu">return</span>(d_mat)</span>
<span id="cb378-12"><a href="mod-r-functions.html#cb378-12" tabindex="-1"></a>}</span>
<span id="cb378-13"><a href="mod-r-functions.html#cb378-13" tabindex="-1"></a>p_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">9</span>, <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">11</span>, <span class="dv">19</span>, <span class="dv">12</span>, <span class="dv">11</span>, <span class="dv">7</span>, <span class="dv">15</span>), <span class="at">nrow =</span> <span class="dv">5</span>)</span>
<span id="cb378-14"><a href="mod-r-functions.html#cb378-14" tabindex="-1"></a><span class="fu">calc_distances</span>(p_mat)</span>
<span id="cb378-15"><a href="mod-r-functions.html#cb378-15" tabindex="-1"></a><span class="co">#&gt;       [,1] [,2] [,3]  [,4] [,5]</span></span>
<span id="cb378-16"><a href="mod-r-functions.html#cb378-16" tabindex="-1"></a><span class="co">#&gt; [1,]  0.00 7.07 9.43 13.00 4.12</span></span>
<span id="cb378-17"><a href="mod-r-functions.html#cb378-17" tabindex="-1"></a><span class="co">#&gt; [2,]  7.07 0.00 6.08  7.81 3.61</span></span>
<span id="cb378-18"><a href="mod-r-functions.html#cb378-18" tabindex="-1"></a><span class="co">#&gt; [3,]  9.43 6.08 0.00  4.00 5.66</span></span>
<span id="cb378-19"><a href="mod-r-functions.html#cb378-19" tabindex="-1"></a><span class="co">#&gt; [4,] 13.00 7.81 4.00  0.00 8.94</span></span>
<span id="cb378-20"><a href="mod-r-functions.html#cb378-20" tabindex="-1"></a><span class="co">#&gt; [5,]  4.12 3.61 5.66  8.94 0.00</span></span>
<span id="cb378-21"><a href="mod-r-functions.html#cb378-21" tabindex="-1"></a><span class="fu">calc_distances</span>(p_mat, <span class="at">to =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb378-22"><a href="mod-r-functions.html#cb378-22" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3]  [,4] [,5]</span></span>
<span id="cb378-23"><a href="mod-r-functions.html#cb378-23" tabindex="-1"></a><span class="co">#&gt; [1,]   NA   NA 9.43 13.00   NA</span></span>
<span id="cb378-24"><a href="mod-r-functions.html#cb378-24" tabindex="-1"></a><span class="co">#&gt; [2,]   NA   NA 6.08  7.81   NA</span></span>
<span id="cb378-25"><a href="mod-r-functions.html#cb378-25" tabindex="-1"></a><span class="co">#&gt; [3,]   NA   NA 0.00  4.00   NA</span></span>
<span id="cb378-26"><a href="mod-r-functions.html#cb378-26" tabindex="-1"></a><span class="co">#&gt; [4,]   NA   NA 4.00  0.00   NA</span></span>
<span id="cb378-27"><a href="mod-r-functions.html#cb378-27" tabindex="-1"></a><span class="co">#&gt; [5,]   NA   NA 5.66  8.94   NA</span></span>
<span id="cb378-28"><a href="mod-r-functions.html#cb378-28" tabindex="-1"></a><span class="fu">calc_distances</span>(p_mat, <span class="at">from =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(p_mat)), <span class="at">to =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb378-29"><a href="mod-r-functions.html#cb378-29" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3]  [,4] [,5]</span></span>
<span id="cb378-30"><a href="mod-r-functions.html#cb378-30" tabindex="-1"></a><span class="co">#&gt; [1,]   NA   NA 9.43 13.00   NA</span></span>
<span id="cb378-31"><a href="mod-r-functions.html#cb378-31" tabindex="-1"></a><span class="co">#&gt; [2,]   NA   NA   NA    NA   NA</span></span>
<span id="cb378-32"><a href="mod-r-functions.html#cb378-32" tabindex="-1"></a><span class="co">#&gt; [3,]   NA   NA   NA    NA   NA</span></span>
<span id="cb378-33"><a href="mod-r-functions.html#cb378-33" tabindex="-1"></a><span class="co">#&gt; [4,]   NA   NA   NA    NA   NA</span></span>
<span id="cb378-34"><a href="mod-r-functions.html#cb378-34" tabindex="-1"></a><span class="co">#&gt; [5,]   NA   NA 5.66  8.94   NA</span></span></code></pre></div>
<p>
The function with test are given above.
</p>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-rTaUfg66vQYxCDcpo95mxcRfrVWlMw2K8KTknP1w">
Solution
</button>
<div id="hint-gv9sR2pxoICCLDA5dm3508vAzhKKmU" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="hint-gv9sR2pxoICCLDA5dm3508vAzhKKmU-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="hint-gv9sR2pxoICCLDA5dm3508vAzhKKmU-title1">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="mod-r-functions.html#cb379-1" tabindex="-1"></a>calc_distances <span class="ot">&lt;-</span> <span class="cf">function</span>(p_mat, <span class="at">from =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(p_mat), <span class="at">to =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(p_mat)) {</span>
<span id="cb379-2"><a href="mod-r-functions.html#cb379-2" tabindex="-1"></a>  d_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> ___, <span class="at">ncol =</span>  ___)</span>
<span id="cb379-3"><a href="mod-r-functions.html#cb379-3" tabindex="-1"></a>  ite <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(___)</span>
<span id="cb379-4"><a href="mod-r-functions.html#cb379-4" tabindex="-1"></a>  <span class="cf">for</span> (r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(ite)) {</span>
<span id="cb379-5"><a href="mod-r-functions.html#cb379-5" tabindex="-1"></a>    i <span class="ot">&lt;-</span> ___</span>
<span id="cb379-6"><a href="mod-r-functions.html#cb379-6" tabindex="-1"></a>    j <span class="ot">&lt;-</span> ___</span>
<span id="cb379-7"><a href="mod-r-functions.html#cb379-7" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.na</span>(d_mat[i,j])) <span class="cf">next</span>          <span class="co"># value already calculated </span></span>
<span id="cb379-8"><a href="mod-r-functions.html#cb379-8" tabindex="-1"></a>    <span class="cf">if</span> (i<span class="sc">==</span>j) {d_mat[i,j] <span class="ot">&lt;-</span> <span class="dv">0</span>; <span class="cf">next</span>}</span>
<span id="cb379-9"><a href="mod-r-functions.html#cb379-9" tabindex="-1"></a>    d_mat[i,j] <span class="ot">&lt;-</span> ___</span>
<span id="cb379-10"><a href="mod-r-functions.html#cb379-10" tabindex="-1"></a>  }</span>
<span id="cb379-11"><a href="mod-r-functions.html#cb379-11" tabindex="-1"></a>  <span class="fu">return</span>(d_mat)</span>
<span id="cb379-12"><a href="mod-r-functions.html#cb379-12" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#hint-gv9sR2pxoICCLDA5dm3508vAzhKKmU">
Hint
</button>
<ol start="3" style="list-style-type: decimal">
<li><p>Create a function <code>calc_distances</code> with the following features (implement as many as you can):</p>
<ul>
<li>Takes a matrix <code>p_mat</code> with a point in each row as input argument.</li>
<li>Takes two additional input arguments <code>from</code> and <code>to</code> with default values <code>1:nrow(p_mat)</code></li>
<li>Return the distance matrix with values calculated for rows in the <code>from</code> input argument and columns in the <code>to</code> input argument. The other entries equals <code>NA</code>.</li>
<li>The function should work for different <code>p_mat</code> (you may assume that the matrix always have two columns).</li>
</ul>
<p>You may test your code using:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="mod-r-functions.html#cb380-1" tabindex="-1"></a>p_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">9</span>, <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">11</span>, <span class="dv">19</span>, <span class="dv">12</span>, <span class="dv">11</span>, <span class="dv">7</span>, <span class="dv">15</span>), <span class="at">nrow =</span> <span class="dv">5</span>)</span>
<span id="cb380-2"><a href="mod-r-functions.html#cb380-2" tabindex="-1"></a><span class="fu">calc_distances</span>(p_mat)</span>
<span id="cb380-3"><a href="mod-r-functions.html#cb380-3" tabindex="-1"></a><span class="fu">calc_distances</span>(p_mat, <span class="at">to =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb380-4"><a href="mod-r-functions.html#cb380-4" tabindex="-1"></a><span class="fu">calc_distances</span>(p_mat, <span class="at">from =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(p_mat)), <span class="at">to =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>)</span></code></pre></div></li>
</ol>
</div>
<div id="exercise-scope" class="section level3 hasAnchor" number="10.8.3">
<h3><span class="header-section-number">10.8.3</span> Exercise (scope)<a href="mod-r-functions.html#exercise-scope" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="solution-UGvgiHax2VrHMu4VQ9RArg77HwvBu4s3x9aiH1iJ" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-UGvgiHax2VrHMu4VQ9RArg77HwvBu4s3x9aiH1iJ-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-UGvgiHax2VrHMu4VQ9RArg77HwvBu4s3x9aiH1iJ-title1">
Solution
</h4>
</div>
<div class="modal-body">
<p>
That value is still 3 since <code>x</code> defined inside the function is a local variable.
</p>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-UGvgiHax2VrHMu4VQ9RArg77HwvBu4s3x9aiH1iJ">
Solution
</button>
<ol style="list-style-type: decimal">
<li>After running the code below, what is the value of variable <code>x</code>?</li>
</ol>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="mod-r-functions.html#cb381-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb381-2"><a href="mod-r-functions.html#cb381-2" tabindex="-1"></a>my_func <span class="ot">&lt;-</span> <span class="cf">function</span>(y){</span>
<span id="cb381-3"><a href="mod-r-functions.html#cb381-3" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb381-4"><a href="mod-r-functions.html#cb381-4" tabindex="-1"></a>  <span class="fu">return</span>(y <span class="sc">+</span> <span class="dv">5</span>)</span>
<span id="cb381-5"><a href="mod-r-functions.html#cb381-5" tabindex="-1"></a>}</span>
<span id="cb381-6"><a href="mod-r-functions.html#cb381-6" tabindex="-1"></a><span class="fu">my_func</span>(<span class="dv">7</span>)</span></code></pre></div>
<div id="solution-0k2Tw3xlqDzgHoxt73or2Dh60u3s7PEmZCQRuSvO" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-0k2Tw3xlqDzgHoxt73or2Dh60u3s7PEmZCQRuSvO-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-0k2Tw3xlqDzgHoxt73or2Dh60u3s7PEmZCQRuSvO-title1">
Solution
</h4>
</div>
<div class="modal-body">
<p>
The code runs. But it is not good coding practice to call global variables inside a function (<code>x</code>). Instead <code>x</code> should have been an argument to the function.
</p>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-0k2Tw3xlqDzgHoxt73or2Dh60u3s7PEmZCQRuSvO">
Solution
</button>
<ol start="2" style="list-style-type: decimal">
<li>Is there any problems with the following code?</li>
</ol>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="mod-r-functions.html#cb382-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb382-2"><a href="mod-r-functions.html#cb382-2" tabindex="-1"></a>my_func <span class="ot">&lt;-</span> <span class="cf">function</span>(y){</span>
<span id="cb382-3"><a href="mod-r-functions.html#cb382-3" tabindex="-1"></a>  <span class="fu">return</span>(y <span class="sc">+</span> x) </span>
<span id="cb382-4"><a href="mod-r-functions.html#cb382-4" tabindex="-1"></a>}</span>
<span id="cb382-5"><a href="mod-r-functions.html#cb382-5" tabindex="-1"></a><span class="fu">my_func</span>(<span class="dv">7</span>)</span></code></pre></div>
<div id="solution-LwVKRUqwTNE0hh0BX9FvMzi9aqjSVYCt9aTCyJ2k" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-LwVKRUqwTNE0hh0BX9FvMzi9aqjSVYCt9aTCyJ2k-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-LwVKRUqwTNE0hh0BX9FvMzi9aqjSVYCt9aTCyJ2k-title1">
Solution
</h4>
</div>
<div class="modal-body">
<p>
That value is still 3 since <code>my_func</code> has not been called yet.
</p>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-LwVKRUqwTNE0hh0BX9FvMzi9aqjSVYCt9aTCyJ2k">
Solution
</button>
<ol start="3" style="list-style-type: decimal">
<li>Have a look at the documentation for operator <code>&lt;&lt;-</code> (run <code>?'&lt;&lt;-'</code>). After running the code below, what is the value of variable <code>x</code>?</li>
</ol>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="mod-r-functions.html#cb383-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb383-2"><a href="mod-r-functions.html#cb383-2" tabindex="-1"></a>my_func <span class="ot">&lt;-</span> <span class="cf">function</span>(y){</span>
<span id="cb383-3"><a href="mod-r-functions.html#cb383-3" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb383-4"><a href="mod-r-functions.html#cb383-4" tabindex="-1"></a>  x <span class="ot">&lt;&lt;-</span> <span class="dv">5</span></span>
<span id="cb383-5"><a href="mod-r-functions.html#cb383-5" tabindex="-1"></a>  <span class="fu">return</span>(y <span class="sc">+</span> <span class="dv">5</span>)</span>
<span id="cb383-6"><a href="mod-r-functions.html#cb383-6" tabindex="-1"></a>}</span></code></pre></div>
<div id="solution-E3iVPQutDZ2X6k6ClQXsjkb6pjs5pHKsB0h2ouAC" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-E3iVPQutDZ2X6k6ClQXsjkb6pjs5pHKsB0h2ouAC-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-E3iVPQutDZ2X6k6ClQXsjkb6pjs5pHKsB0h2ouAC-title1">
Solution
</h4>
</div>
<div class="modal-body">
<p>
That value of <code>x</code> is 5 since <code>&lt;&lt;-</code> is used to look at the parent environment. The function call returns 11 since the <code>x</code> used is the local variable. In general avoid using <code>&lt;&lt;-</code> and give local variables different names compared to global ones.
</p>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-E3iVPQutDZ2X6k6ClQXsjkb6pjs5pHKsB0h2ouAC">
Solution
</button>
<ol start="4" style="list-style-type: decimal">
<li>After running the code below, what is the value of variable <code>x</code> and output of the function call?</li>
</ol>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="mod-r-functions.html#cb384-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb384-2"><a href="mod-r-functions.html#cb384-2" tabindex="-1"></a>my_func <span class="ot">&lt;-</span> <span class="cf">function</span>(y){</span>
<span id="cb384-3"><a href="mod-r-functions.html#cb384-3" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb384-4"><a href="mod-r-functions.html#cb384-4" tabindex="-1"></a>  x <span class="ot">&lt;&lt;-</span> <span class="dv">5</span></span>
<span id="cb384-5"><a href="mod-r-functions.html#cb384-5" tabindex="-1"></a>  <span class="fu">return</span>(y <span class="sc">+</span> x)</span>
<span id="cb384-6"><a href="mod-r-functions.html#cb384-6" tabindex="-1"></a>}</span>
<span id="cb384-7"><a href="mod-r-functions.html#cb384-7" tabindex="-1"></a><span class="fu">my_func</span>(<span class="dv">7</span>)</span></code></pre></div>
</div>
<div id="ex-r-time-conversion" class="section level3 hasAnchor" number="10.8.4">
<h3><span class="header-section-number">10.8.4</span> Exercise (time conversion)<a href="mod-r-functions.html#ex-r-time-conversion" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>This exercise is a slightly modified version an exam assignment (exam 2022-A1).</em></p>
<div id="solution-FQOfInLF0NbLAzGY8gRMNPpulMgV1ecK1yz4Xy6M" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-FQOfInLF0NbLAzGY8gRMNPpulMgV1ecK1yz4Xy6M-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-FQOfInLF0NbLAzGY8gRMNPpulMgV1ecK1yz4Xy6M-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="mod-r-functions.html#cb385-1" tabindex="-1"></a>SecToMin <span class="ot">&lt;-</span> <span class="cf">function</span>(sec) {</span>
<span id="cb385-2"><a href="mod-r-functions.html#cb385-2" tabindex="-1"></a>   <span class="fu">return</span>(sec <span class="sc">/</span> <span class="dv">60</span>)</span>
<span id="cb385-3"><a href="mod-r-functions.html#cb385-3" tabindex="-1"></a>}</span>
<span id="cb385-4"><a href="mod-r-functions.html#cb385-4" tabindex="-1"></a></span>
<span id="cb385-5"><a href="mod-r-functions.html#cb385-5" tabindex="-1"></a>SecToHours <span class="ot">&lt;-</span> <span class="cf">function</span>(sec) {</span>
<span id="cb385-6"><a href="mod-r-functions.html#cb385-6" tabindex="-1"></a>   <span class="fu">return</span>(sec <span class="sc">/</span> <span class="dv">60</span> <span class="sc">/</span> <span class="dv">60</span>)</span>
<span id="cb385-7"><a href="mod-r-functions.html#cb385-7" tabindex="-1"></a>}</span>
<span id="cb385-8"><a href="mod-r-functions.html#cb385-8" tabindex="-1"></a></span>
<span id="cb385-9"><a href="mod-r-functions.html#cb385-9" tabindex="-1"></a>MinToSec <span class="ot">&lt;-</span> <span class="cf">function</span>(min) {</span>
<span id="cb385-10"><a href="mod-r-functions.html#cb385-10" tabindex="-1"></a>   <span class="fu">return</span>(min <span class="sc">*</span> <span class="dv">60</span>)</span>
<span id="cb385-11"><a href="mod-r-functions.html#cb385-11" tabindex="-1"></a>}</span>
<span id="cb385-12"><a href="mod-r-functions.html#cb385-12" tabindex="-1"></a></span>
<span id="cb385-13"><a href="mod-r-functions.html#cb385-13" tabindex="-1"></a>MinToHours <span class="ot">&lt;-</span> <span class="cf">function</span>(min) {</span>
<span id="cb385-14"><a href="mod-r-functions.html#cb385-14" tabindex="-1"></a>   <span class="fu">return</span>(min <span class="sc">/</span> <span class="dv">60</span>)</span>
<span id="cb385-15"><a href="mod-r-functions.html#cb385-15" tabindex="-1"></a>}</span>
<span id="cb385-16"><a href="mod-r-functions.html#cb385-16" tabindex="-1"></a></span>
<span id="cb385-17"><a href="mod-r-functions.html#cb385-17" tabindex="-1"></a>HoursToMin <span class="ot">&lt;-</span> <span class="cf">function</span>(hours) {</span>
<span id="cb385-18"><a href="mod-r-functions.html#cb385-18" tabindex="-1"></a>   <span class="fu">return</span>(hours <span class="sc">*</span> <span class="dv">60</span>)</span>
<span id="cb385-19"><a href="mod-r-functions.html#cb385-19" tabindex="-1"></a>}</span>
<span id="cb385-20"><a href="mod-r-functions.html#cb385-20" tabindex="-1"></a></span>
<span id="cb385-21"><a href="mod-r-functions.html#cb385-21" tabindex="-1"></a>HoursToSec <span class="ot">&lt;-</span> <span class="cf">function</span>(hours) {</span>
<span id="cb385-22"><a href="mod-r-functions.html#cb385-22" tabindex="-1"></a>   <span class="fu">return</span>(hours <span class="sc">*</span> <span class="dv">60</span> <span class="sc">*</span> <span class="dv">60</span>)</span>
<span id="cb385-23"><a href="mod-r-functions.html#cb385-23" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-FQOfInLF0NbLAzGY8gRMNPpulMgV1ecK1yz4Xy6M">
Solution
</button>
<ol style="list-style-type: decimal">
<li>Make functions:</li>
</ol>
<ul>
<li><code>SecToMin</code> which takes an input argument <code>sec</code> in seconds and return the number converted to minutes.</li>
<li><code>SecToHours</code> which takes an input argument <code>sec</code> in seconds and return the number converted to hours.</li>
<li><code>MinToSec</code> which takes an input argument <code>min</code> in minutes and return the number converted to seconds.</li>
<li><code>MinToHours</code> which takes an input argument <code>min</code> in minutes and return the number converted to hours.</li>
<li><code>HoursToMin</code> which takes an input argument <code>hours</code> in hours and return the number converted to minutes.</li>
<li><code>HoursToSec</code> which takes an input argument <code>hours</code> in hours and return the number converted to seconds.</li>
</ul>
<p>All numbers may be decimal numbers, e.g. 90 seconds is 1.5 minutes and 1.5 hours is 90 minutes.</p>
<div id="solution-UuZ1rpso06pD1Zks3DPPZwz8Hpzf48KFFmAbgvgG" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="solution-UuZ1rpso06pD1Zks3DPPZwz8Hpzf48KFFmAbgvgG-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="solution-UuZ1rpso06pD1Zks3DPPZwz8Hpzf48KFFmAbgvgG-title1">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="mod-r-functions.html#cb386-1" tabindex="-1"></a>ConvertTime <span class="ot">&lt;-</span> <span class="cf">function</span>(val, unit) {</span>
<span id="cb386-2"><a href="mod-r-functions.html#cb386-2" tabindex="-1"></a>   <span class="cf">if</span> (unit <span class="sc">==</span> <span class="st">&quot;sec&quot;</span>) {</span>
<span id="cb386-3"><a href="mod-r-functions.html#cb386-3" tabindex="-1"></a>      <span class="fu">return</span>(<span class="fu">c</span>(<span class="at">sec =</span> val, <span class="at">min =</span> <span class="fu">SecToMin</span>(val), <span class="at">hours =</span> <span class="fu">SecToHours</span>(val)))</span>
<span id="cb386-4"><a href="mod-r-functions.html#cb386-4" tabindex="-1"></a>   } </span>
<span id="cb386-5"><a href="mod-r-functions.html#cb386-5" tabindex="-1"></a>   <span class="cf">if</span> (unit <span class="sc">==</span> <span class="st">&quot;min&quot;</span>) {</span>
<span id="cb386-6"><a href="mod-r-functions.html#cb386-6" tabindex="-1"></a>      <span class="fu">return</span>(<span class="fu">c</span>(<span class="at">sec =</span> <span class="fu">MinToSec</span>(val), <span class="at">min =</span> val, <span class="at">hours =</span> <span class="fu">MinToHours</span>(val)))</span>
<span id="cb386-7"><a href="mod-r-functions.html#cb386-7" tabindex="-1"></a>   }</span>
<span id="cb386-8"><a href="mod-r-functions.html#cb386-8" tabindex="-1"></a>   <span class="cf">if</span> (unit <span class="sc">==</span> <span class="st">&quot;hours&quot;</span>) {</span>
<span id="cb386-9"><a href="mod-r-functions.html#cb386-9" tabindex="-1"></a>      <span class="fu">return</span>(<span class="fu">c</span>(<span class="at">sec =</span> <span class="fu">HoursToSec</span>(val), <span class="at">min =</span> <span class="fu">HoursToMin</span>(val), <span class="at">hours =</span> val))</span>
<span id="cb386-10"><a href="mod-r-functions.html#cb386-10" tabindex="-1"></a>   }</span>
<span id="cb386-11"><a href="mod-r-functions.html#cb386-11" tabindex="-1"></a>   <span class="fu">return</span>(<span class="cn">NA</span>)</span>
<span id="cb386-12"><a href="mod-r-functions.html#cb386-12" tabindex="-1"></a>}</span>
<span id="cb386-13"><a href="mod-r-functions.html#cb386-13" tabindex="-1"></a><span class="do">## We test the function:</span></span>
<span id="cb386-14"><a href="mod-r-functions.html#cb386-14" tabindex="-1"></a><span class="fu">ConvertTime</span>(<span class="at">val =</span> <span class="fl">1.5</span>, <span class="at">unit =</span> <span class="st">&quot;min&quot;</span>)</span>
<span id="cb386-15"><a href="mod-r-functions.html#cb386-15" tabindex="-1"></a><span class="co">#&gt;    sec    min  hours </span></span>
<span id="cb386-16"><a href="mod-r-functions.html#cb386-16" tabindex="-1"></a><span class="co">#&gt; 90.000  1.500  0.025</span></span>
<span id="cb386-17"><a href="mod-r-functions.html#cb386-17" tabindex="-1"></a><span class="fu">ConvertTime</span>(<span class="at">val =</span> <span class="fl">1.5</span>, <span class="at">unit =</span> <span class="st">&quot;hours&quot;</span>)</span>
<span id="cb386-18"><a href="mod-r-functions.html#cb386-18" tabindex="-1"></a><span class="co">#&gt;    sec    min  hours </span></span>
<span id="cb386-19"><a href="mod-r-functions.html#cb386-19" tabindex="-1"></a><span class="co">#&gt; 5400.0   90.0    1.5</span></span>
<span id="cb386-20"><a href="mod-r-functions.html#cb386-20" tabindex="-1"></a><span class="fu">ConvertTime</span>(<span class="at">val =</span> <span class="fl">1.5</span>, <span class="at">unit =</span> <span class="st">&quot;kr&quot;</span>)</span>
<span id="cb386-21"><a href="mod-r-functions.html#cb386-21" tabindex="-1"></a><span class="co">#&gt; [1] NA</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution-UuZ1rpso06pD1Zks3DPPZwz8Hpzf48KFFmAbgvgG">
Solution
</button>
<ol start="2" style="list-style-type: decimal">
<li>Make a function <code>ConvertTime</code> which takes two input arguments:</li>
</ol>
<ul>
<li><code>val</code> A number.</li>
<li><code>unit</code> A string that can take values “sec”, “min” and “hours”.</li>
</ul>
<p>The function should return <code>val</code> converted to seconds, minutes and hours with features:</p>
<ul>
<li>works for all possible values for <code>unit</code>,</li>
<li>uses the functions in Question 1,</li>
<li>returns a vector with 3 numbers (seconds, minutes and hours) or <code>NA</code> if <code>unit</code> does not equals “sec”, “min” or “hours”.</li>
</ul>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-r-pkgs" class="csl-entry">
Wickham, Hadley. 2015. <em>R Packages: Organize, Test, Document, and Share Your Code</em>. O’Reilly Media. <a href="http://r-pkgs.had.co.nz/">http://r-pkgs.had.co.nz/</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="mod-r-loops-cond.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mod-r-tidyverse-intro.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/bss-osca/tfa/edit/master/book/10_r-functions.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
